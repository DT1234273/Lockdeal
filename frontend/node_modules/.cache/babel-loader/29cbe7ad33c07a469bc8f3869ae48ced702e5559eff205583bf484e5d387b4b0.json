{"ast":null,"code":"import{useEffect,useState}from'react';import{Link}from'react-router-dom';import{toast}from'react-toastify';import PageHeader from'../../components/PageHeader';import{useAuth}from'../../context/AuthContext';import{groupAPI}from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AvailableGroups=()=>{const{user}=useAuth();const[groups,setGroups]=useState([]);const[isLoading,setIsLoading]=useState(true);const[selectedGroup,setSelectedGroup]=useState(null);const[showDetailsModal,setShowDetailsModal]=useState(false);const[acceptedGroups,setAcceptedGroups]=useState([]);const[showOtpModal,setShowOtpModal]=useState(false);const[otp,setOtp]=useState('');const[distributingGroupId,setDistributingGroupId]=useState(null);const[sellerGroupId,setSellerGroupId]=useState((user===null||user===void 0?void 0:user.seller_group_id)||null);useEffect(()=>{fetchGroups();fetchAcceptedGroups();if(user!==null&&user!==void 0&&user.seller_group_id){setSellerGroupId(user.seller_group_id);}},[user]);// Groups are already filtered by the API\nconst eligibleGroups=groups;const fetchGroups=async()=>{setIsLoading(true);try{const data=await groupAPI.getAvailableGroups();setGroups(data);}catch(error){const errorMessage=error.detail||'Failed to load available groups';toast.error(errorMessage);console.error('Error fetching available groups:',error);}finally{setIsLoading(false);}};const fetchAcceptedGroups=async()=>{try{const data=await groupAPI.getAcceptedGroups();setAcceptedGroups(data);}catch(error){const errorMessage=error.detail||'Failed to load accepted groups';toast.error(errorMessage);console.error('Error fetching accepted groups:',error);}};const handleAcceptGroup=async groupId=>{try{// Check if the group meets the criteria\nconst group=selectedGroup||groups.find(g=>g.id===groupId);if(!group){toast.error('Group not found');return;}// Check if the group meets the criteria\nconst hasEnoughMembers=group.members>=10;const hasEnoughValue=group.total_price>=1000;if(!hasEnoughMembers&&!hasEnoughValue){toast.error('Group does not meet the criteria. It must have 10 or more members OR a total value of ₹1000 or more.');return;}// First lock the group\ntry{await groupAPI.lockGroup(groupId);}catch(lockError){var _lockError$detail;// If the group is already locked, we can proceed to accept it\nif(!((_lockError$detail=lockError.detail)!==null&&_lockError$detail!==void 0&&_lockError$detail.includes('already locked'))){// If it's another error, show it and stop\nconst errorMessage=lockError.detail||'Failed to lock group';toast.error(errorMessage);console.error('Error locking group:',lockError);return;}}// Then accept the group\nawait groupAPI.acceptGroup(groupId);toast.success('Group accepted successfully');fetchGroups();fetchAcceptedGroups();setShowDetailsModal(false);}catch(error){const errorMessage=error.detail||'Failed to accept group';toast.error(errorMessage);console.error('Error accepting group:',error);}};const handleViewDetails=group=>{setSelectedGroup(group);setShowDetailsModal(true);};const isDistributionDay=()=>{const today=new Date().getDay();// 6 is Saturday, 0 is Sunday\nreturn today===6||today===0;};const handleDistributeGroup=groupId=>{setDistributingGroupId(groupId);setShowOtpModal(true);};const handleVerifyOtp=async()=>{if(!otp||otp.length<4){toast.error('Please enter a valid OTP');return;}try{await groupAPI.verifyDistributionOtp(distributingGroupId,otp);toast.success('Group distribution verified successfully');setShowOtpModal(false);setOtp('');fetchAcceptedGroups();}catch(error){const errorMessage=error.detail||'Failed to verify OTP';toast.error(errorMessage);console.error('Error verifying OTP:',error);}};const handleSendOtp=async()=>{try{await groupAPI.sendDistributionOtp(distributingGroupId);toast.success('OTP sent successfully');}catch(error){const errorMessage=error.detail||'Failed to send OTP';toast.error(errorMessage);console.error('Error sending OTP:',error);}};const formatDate=dateString=>{if(!dateString)return'Not locked yet';const date=new Date(dateString);return date.toLocaleString('en-IN',{day:'numeric',month:'short',year:'numeric',hour:'2-digit',minute:'2-digit'});};const formatCurrency=amount=>{return new Intl.NumberFormat('en-IN',{style:'currency',currency:'INR',maximumFractionDigits:0}).format(amount);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsx(PageHeader,{title:\"Available Groups\",subtitle:\"Groups from other sellers with 10+ members or \\u20B91000+ total value\",showBackButton:true,backButtonPath:\"/seller/dashboard\"}),isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-seller-600\"})}):eligibleGroups.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 text-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-16 w-16 text-gray-400 mx-auto mb-4\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-1\",children:\"No Available Groups\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"There are currently no groups from other sellers that meet the criteria. Check back on Saturday when more groups may be available.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:eligibleGroups.map(group=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden transition-all hover:shadow-lg border border-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-b border-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-1 truncate\",children:group.product.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-1 text-xs font-semibold rounded-full bg-seller-100 text-seller-800\",children:[group.members,\" members\"]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-2\",children:group.product.unit}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-bold text-seller-600\",children:formatCurrency(group.total_price)}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[\"Locked: \",formatDate(group.locked_at)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 px-4 py-3 flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:group.product.seller_name||\"Other Seller\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewDetails(group),className:\"px-3 py-1 bg-seller-600 text-white text-sm font-medium rounded hover:bg-seller-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-seller-500 transition-colors\",children:\"View Details\"})]})]},group.id))}),showDetailsModal&&selectedGroup&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-900\",children:selectedGroup.product.name}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDetailsModal(false),className:\"text-gray-400 hover:text-gray-500\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-500 mb-2\",children:\"Group Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Total Members\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold\",children:selectedGroup.members})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Total Value\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold\",children:formatCurrency(selectedGroup.total_price)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Locked On\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:formatDate(selectedGroup.locked_at)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Product Unit\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:selectedGroup.product.unit})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-500 mb-2\",children:\"Product Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-3\",children:[selectedGroup.product.image_url&&/*#__PURE__*/_jsx(\"img\",{src:selectedGroup.product.image_url,alt:selectedGroup.product.name,className:\"h-16 w-16 object-cover rounded-md\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:selectedGroup.product.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[formatCurrency(selectedGroup.product.price),\" per \",selectedGroup.product.unit]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200 pt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 p-4 rounded-lg mb-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-800 text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Note:\"}),\" Groups are available for viewing when they meet at least one of these criteria:\",/*#__PURE__*/_jsx(\"br\",{}),\"1. The group has \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"10 or more members\"}),/*#__PURE__*/_jsx(\"br\",{}),\"2. The total order value is \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\u20B91000 or more\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 p-3 rounded-md mb-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-yellow-800 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 mr-1\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\",clipRule:\"evenodd\"})}),\"Groups can be accepted anytime, but distribution will only happen on Saturday or Sunday.\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDetailsModal(false),className:\"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors mr-2\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAcceptGroup(selectedGroup.id),className:\"px-4 py-2 bg-seller-600 text-white rounded-md hover:bg-seller-700 transition-colors mr-2\",children:\"Accept Group\"}),/*#__PURE__*/_jsx(Link,{to:`/product/${selectedGroup.product.id}`,className:\"px-4 py-2 bg-seller-600 text-white rounded-md hover:bg-seller-700 transition-colors\",children:\"View Product\"})]})]})]})]})})}),showOtpModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-xl max-w-md w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-900\",children:\"Verify Distribution\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowOtpModal(false);setOtp('');},className:\"text-gray-400 hover:text-gray-500\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Enter the OTP sent to the group members to verify distribution.\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"otp\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"OTP Code\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"otp\",value:otp,onChange:e=>setOtp(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-seller-500 focus:border-seller-500\",placeholder:\"Enter OTP\",maxLength:6})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSendOtp(),className:\"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors\",children:\"Resend OTP\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleVerifyOtp(),className:\"px-4 py-2 bg-seller-600 text-white rounded-md hover:bg-seller-700 transition-colors\",children:\"Verify OTP\"})]})]})]})})}),acceptedGroups.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-12\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900 mb-4\",children:\"Accepted Groups\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:acceptedGroups.map(group=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden transition-all hover:shadow-lg border border-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-b border-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-1 truncate\",children:group.product.name}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800\",children:\"Accepted\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-2\",children:group.product.unit}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-bold text-seller-600\",children:formatCurrency(group.total_price)}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[\"Locked: \",formatDate(group.locked_at)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 px-4 py-3 flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:group.product.seller_name||\"Other Seller\"}),/*#__PURE__*/_jsxs(\"div\",{children:[isDistributionDay()&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDistributeGroup(group.id),className:\"px-3 py-1 bg-green-600 text-white text-sm font-medium rounded hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors mr-2\",children:\"Distribute\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewDetails(group),className:\"px-3 py-1 bg-gray-300 text-gray-700 text-sm font-medium rounded hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors\",children:\"View Details\"})]})]})]},group.id))})]})]});};export default AvailableGroups;","map":{"version":3,"names":["useEffect","useState","Link","toast","PageHeader","useAuth","groupAPI","jsx","_jsx","jsxs","_jsxs","AvailableGroups","user","groups","setGroups","isLoading","setIsLoading","selectedGroup","setSelectedGroup","showDetailsModal","setShowDetailsModal","acceptedGroups","setAcceptedGroups","showOtpModal","setShowOtpModal","otp","setOtp","distributingGroupId","setDistributingGroupId","sellerGroupId","setSellerGroupId","seller_group_id","fetchGroups","fetchAcceptedGroups","eligibleGroups","data","getAvailableGroups","error","errorMessage","detail","console","getAcceptedGroups","handleAcceptGroup","groupId","group","find","g","id","hasEnoughMembers","members","hasEnoughValue","total_price","lockGroup","lockError","_lockError$detail","includes","acceptGroup","success","handleViewDetails","isDistributionDay","today","Date","getDay","handleDistributeGroup","handleVerifyOtp","length","verifyDistributionOtp","handleSendOtp","sendDistributionOtp","formatDate","dateString","date","toLocaleString","day","month","year","hour","minute","formatCurrency","amount","Intl","NumberFormat","style","currency","maximumFractionDigits","format","className","children","title","subtitle","showBackButton","backButtonPath","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","map","product","name","unit","locked_at","seller_name","onClick","image_url","src","alt","price","fillRule","clipRule","to","htmlFor","type","value","onChange","e","target","placeholder","maxLength"],"sources":["E:/market_sell/frontend/src/pages/seller/AvailableGroups.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport PageHeader from '../../components/PageHeader';\nimport { useAuth } from '../../context/AuthContext';\nimport { groupAPI } from '../../services/api';\n\nconst AvailableGroups = () => {\n  const { user } = useAuth();\n  const [groups, setGroups] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [selectedGroup, setSelectedGroup] = useState(null);\n  const [showDetailsModal, setShowDetailsModal] = useState(false);\n  const [acceptedGroups, setAcceptedGroups] = useState([]);\n  const [showOtpModal, setShowOtpModal] = useState(false);\n  const [otp, setOtp] = useState('');\n  const [distributingGroupId, setDistributingGroupId] = useState(null);\n  const [sellerGroupId, setSellerGroupId] = useState(user?.seller_group_id || null);\n\n  useEffect(() => {\n    fetchGroups();\n    fetchAcceptedGroups();\n    if (user?.seller_group_id) {\n      setSellerGroupId(user.seller_group_id);\n    }\n  }, [user]);\n\n  // Groups are already filtered by the API\n  const eligibleGroups = groups;\n\n  const fetchGroups = async () => {\n    setIsLoading(true);\n    try {\n      const data = await groupAPI.getAvailableGroups();\n      setGroups(data);\n    } catch (error) {\n      const errorMessage = error.detail || 'Failed to load available groups';\n      toast.error(errorMessage);\n      console.error('Error fetching available groups:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const fetchAcceptedGroups = async () => {\n    try {\n      const data = await groupAPI.getAcceptedGroups();\n      setAcceptedGroups(data);\n    } catch (error) {\n      const errorMessage = error.detail || 'Failed to load accepted groups';\n      toast.error(errorMessage);\n      console.error('Error fetching accepted groups:', error);\n    }\n  };\n\n  const handleAcceptGroup = async (groupId) => {\n    try {\n      // Check if the group meets the criteria\n      const group = selectedGroup || groups.find(g => g.id === groupId);\n      \n      if (!group) {\n        toast.error('Group not found');\n        return;\n      }\n      \n      // Check if the group meets the criteria\n      const hasEnoughMembers = group.members >= 10;\n      const hasEnoughValue = group.total_price >= 1000;\n      \n      if (!hasEnoughMembers && !hasEnoughValue) {\n        toast.error('Group does not meet the criteria. It must have 10 or more members OR a total value of ₹1000 or more.');\n        return;\n      }\n      \n      // First lock the group\n      try {\n        await groupAPI.lockGroup(groupId);\n      } catch (lockError) {\n        // If the group is already locked, we can proceed to accept it\n        if (!lockError.detail?.includes('already locked')) {\n          // If it's another error, show it and stop\n          const errorMessage = lockError.detail || 'Failed to lock group';\n          toast.error(errorMessage);\n          console.error('Error locking group:', lockError);\n          return;\n        }\n      }\n      \n      // Then accept the group\n      await groupAPI.acceptGroup(groupId);\n      toast.success('Group accepted successfully');\n      fetchGroups();\n      fetchAcceptedGroups();\n      setShowDetailsModal(false);\n    } catch (error) {\n      const errorMessage = error.detail || 'Failed to accept group';\n      toast.error(errorMessage);\n      console.error('Error accepting group:', error);\n    }\n  };\n\n  const handleViewDetails = (group) => {\n    setSelectedGroup(group);\n    setShowDetailsModal(true);\n  };\n  \n  const isDistributionDay = () => {\n    const today = new Date().getDay();\n    // 6 is Saturday, 0 is Sunday\n    return today === 6 || today === 0;\n  };\n  \n  const handleDistributeGroup = (groupId) => {\n    setDistributingGroupId(groupId);\n    setShowOtpModal(true);\n  };\n  \n  const handleVerifyOtp = async () => {\n    if (!otp || otp.length < 4) {\n      toast.error('Please enter a valid OTP');\n      return;\n    }\n    \n    try {\n      await groupAPI.verifyDistributionOtp(distributingGroupId, otp);\n      toast.success('Group distribution verified successfully');\n      setShowOtpModal(false);\n      setOtp('');\n      fetchAcceptedGroups();\n    } catch (error) {\n      const errorMessage = error.detail || 'Failed to verify OTP';\n      toast.error(errorMessage);\n      console.error('Error verifying OTP:', error);\n    }\n  };\n  \n  const handleSendOtp = async () => {\n    try {\n      await groupAPI.sendDistributionOtp(distributingGroupId);\n      toast.success('OTP sent successfully');\n    } catch (error) {\n      const errorMessage = error.detail || 'Failed to send OTP';\n      toast.error(errorMessage);\n      console.error('Error sending OTP:', error);\n    }\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'Not locked yet';\n    const date = new Date(dateString);\n    return date.toLocaleString('en-IN', {\n      day: 'numeric',\n      month: 'short',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: 'INR',\n      maximumFractionDigits: 0,\n    }).format(amount);\n  };\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <PageHeader\n        title=\"Available Groups\"\n        subtitle=\"Groups from other sellers with 10+ members or ₹1000+ total value\"\n        showBackButton={true}\n        backButtonPath=\"/seller/dashboard\"\n      />\n\n      {isLoading ? (\n        <div className=\"flex justify-center items-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-seller-600\"></div>\n        </div>\n      ) : eligibleGroups.length === 0 ? (\n        <div className=\"bg-white rounded-lg shadow-md p-6 text-center\">\n          <svg className=\"h-16 w-16 text-gray-400 mx-auto mb-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <h3 className=\"text-lg font-medium text-gray-900 mb-1\">No Available Groups</h3>\n          <p className=\"text-gray-500\">\n            There are currently no groups from other sellers that meet the criteria.\n            Check back on Saturday when more groups may be available.\n          </p>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {eligibleGroups.map((group) => (\n            <div key={group.id} className=\"bg-white rounded-lg shadow-md overflow-hidden transition-all hover:shadow-lg border border-gray-100\">\n              <div className=\"p-4 border-b border-gray-100\">\n                <div className=\"flex justify-between items-start\">\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-1 truncate\">{group.product.name}</h3>\n                  <span className=\"px-2 py-1 text-xs font-semibold rounded-full bg-seller-100 text-seller-800\">\n                    {group.members} members\n                  </span>\n                </div>\n                <p className=\"text-sm text-gray-500 mb-2\">{group.product.unit}</p>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-lg font-bold text-seller-600\">{formatCurrency(group.total_price)}</span>\n                  <span className=\"text-xs text-gray-500\">Locked: {formatDate(group.locked_at)}</span>\n                </div>\n              </div>\n              <div className=\"bg-gray-50 px-4 py-3 flex justify-between items-center\">\n                <span className=\"text-sm font-medium text-gray-500\">\n                  {group.product.seller_name || \"Other Seller\"}\n                </span>\n                <button\n                  onClick={() => handleViewDetails(group)}\n                  className=\"px-3 py-1 bg-seller-600 text-white text-sm font-medium rounded hover:bg-seller-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-seller-500 transition-colors\"\n                >\n                  View Details\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Group Details Modal */}\n      {showDetailsModal && selectedGroup && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto\">\n            <div className=\"p-6\">\n              <div className=\"flex justify-between items-start mb-4\">\n                <h3 className=\"text-xl font-bold text-gray-900\">{selectedGroup.product.name}</h3>\n                <button\n                  onClick={() => setShowDetailsModal(false)}\n                  className=\"text-gray-400 hover:text-gray-500\"\n                >\n                  <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n              \n              <div className=\"space-y-4\">\n                <div className=\"bg-gray-50 p-4 rounded-lg\">\n                  <h4 className=\"text-sm font-medium text-gray-500 mb-2\">Group Details</h4>\n                  <div className=\"grid grid-cols-2 gap-2\">\n                    <div>\n                      <p className=\"text-xs text-gray-500\">Total Members</p>\n                      <p className=\"text-lg font-semibold\">{selectedGroup.members}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-xs text-gray-500\">Total Value</p>\n                      <p className=\"text-lg font-semibold\">{formatCurrency(selectedGroup.total_price)}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-xs text-gray-500\">Locked On</p>\n                      <p className=\"text-sm\">{formatDate(selectedGroup.locked_at)}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-xs text-gray-500\">Product Unit</p>\n                      <p className=\"text-sm\">{selectedGroup.product.unit}</p>\n                    </div>\n                  </div>\n                </div>\n                \n                <div>\n                  <h4 className=\"text-sm font-medium text-gray-500 mb-2\">Product Information</h4>\n                  <div className=\"flex items-center space-x-3 mb-3\">\n                    {selectedGroup.product.image_url && (\n                      <img \n                        src={selectedGroup.product.image_url} \n                        alt={selectedGroup.product.name}\n                        className=\"h-16 w-16 object-cover rounded-md\"\n                      />\n                    )}\n                    <div>\n                      <p className=\"font-medium\">{selectedGroup.product.name}</p>\n                      <p className=\"text-sm text-gray-500\">{formatCurrency(selectedGroup.product.price)} per {selectedGroup.product.unit}</p>\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"border-t border-gray-200 pt-4\">\n                  <div className=\"bg-blue-50 p-4 rounded-lg mb-4\">\n                    <p className=\"text-blue-800 text-sm\">\n                      <span className=\"font-medium\">Note:</span> Groups are available for viewing when they meet at least one of these criteria:\n                      <br />1. The group has <span className=\"font-medium\">10 or more members</span>\n                      <br />2. The total order value is <span className=\"font-medium\">₹1000 or more</span>\n                    </p>\n                  </div>\n                  \n                  <div className=\"bg-yellow-50 p-3 rounded-md mb-4\">\n                    <p className=\"text-sm text-yellow-800 flex items-center\">\n                      <svg className=\"h-5 w-5 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                        <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                      </svg>\n                      Groups can be accepted anytime, but distribution will only happen on Saturday or Sunday.\n                    </p>\n                  </div>\n                  \n                  <div className=\"flex justify-end\">\n                    <button\n                      onClick={() => setShowDetailsModal(false)}\n                      className=\"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors mr-2\"\n                    >\n                      Close\n                    </button>\n                    <button\n                      onClick={() => handleAcceptGroup(selectedGroup.id)}\n                      className=\"px-4 py-2 bg-seller-600 text-white rounded-md hover:bg-seller-700 transition-colors mr-2\"\n                    >\n                      Accept Group\n                    </button>\n                    <Link\n                      to={`/product/${selectedGroup.product.id}`}\n                      className=\"px-4 py-2 bg-seller-600 text-white rounded-md hover:bg-seller-700 transition-colors\"\n                    >\n                      View Product\n                    </Link>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* OTP Verification Modal */}\n      {showOtpModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full\">\n            <div className=\"p-6\">\n              <div className=\"flex justify-between items-start mb-4\">\n                <h3 className=\"text-xl font-bold text-gray-900\">Verify Distribution</h3>\n                <button\n                  onClick={() => {\n                    setShowOtpModal(false);\n                    setOtp('');\n                  }}\n                  className=\"text-gray-400 hover:text-gray-500\"\n                >\n                  <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n              \n              <div className=\"space-y-4\">\n                <p className=\"text-gray-600\">Enter the OTP sent to the group members to verify distribution.</p>\n                \n                <div>\n                  <label htmlFor=\"otp\" className=\"block text-sm font-medium text-gray-700 mb-1\">OTP Code</label>\n                  <input\n                    type=\"text\"\n                    id=\"otp\"\n                    value={otp}\n                    onChange={(e) => setOtp(e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-seller-500 focus:border-seller-500\"\n                    placeholder=\"Enter OTP\"\n                    maxLength={6}\n                  />\n                </div>\n                \n                <div className=\"flex justify-end space-x-3\">\n                  <button\n                    onClick={() => handleSendOtp()}\n                    className=\"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors\"\n                  >\n                    Resend OTP\n                  </button>\n                  <button\n                    onClick={() => handleVerifyOtp()}\n                    className=\"px-4 py-2 bg-seller-600 text-white rounded-md hover:bg-seller-700 transition-colors\"\n                  >\n                    Verify OTP\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n      \n      {/* Accepted Groups Section */}\n      {acceptedGroups.length > 0 && (\n        <div className=\"mt-12\">\n          <h2 className=\"text-xl font-bold text-gray-900 mb-4\">Accepted Groups</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {acceptedGroups.map((group) => (\n              <div key={group.id} className=\"bg-white rounded-lg shadow-md overflow-hidden transition-all hover:shadow-lg border border-gray-100\">\n                <div className=\"p-4 border-b border-gray-100\">\n                  <div className=\"flex justify-between items-start\">\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-1 truncate\">{group.product.name}</h3>\n                    <span className=\"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800\">\n                      Accepted\n                    </span>\n                  </div>\n                  <p className=\"text-sm text-gray-500 mb-2\">{group.product.unit}</p>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-lg font-bold text-seller-600\">{formatCurrency(group.total_price)}</span>\n                    <span className=\"text-xs text-gray-500\">Locked: {formatDate(group.locked_at)}</span>\n                  </div>\n                </div>\n                <div className=\"bg-gray-50 px-4 py-3 flex justify-between items-center\">\n                  <span className=\"text-sm font-medium text-gray-500\">\n                    {group.product.seller_name || \"Other Seller\"}\n                  </span>\n                  <div>\n                    {isDistributionDay() && (\n                      <button\n                        onClick={() => handleDistributeGroup(group.id)}\n                        className=\"px-3 py-1 bg-green-600 text-white text-sm font-medium rounded hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors mr-2\"\n                      >\n                        Distribute\n                      </button>\n                    )}\n                    <button\n                      onClick={() => handleViewDetails(group)}\n                      className=\"px-3 py-1 bg-gray-300 text-gray-700 text-sm font-medium rounded hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors\"\n                    >\n                      View Details\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AvailableGroups;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}