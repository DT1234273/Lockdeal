{"ast":null,"code":"import{useEffect,useState}from'react';import{Link}from'react-router-dom';import{toast}from'react-toastify';import MyDeals from'../../components/customer/MyDeals';import PageHeader from'../../components/PageHeader';import{useAuth}from'../../context/AuthContext';import{groupAPI,productAPI}from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const{user}=useAuth();const[products,setProducts]=useState([]);const[userGroups,setUserGroups]=useState([]);const[isLoading,setIsLoading]=useState(true);useEffect(()=>{const fetchData=async()=>{setIsLoading(true);try{// Fetch products\nconst productsData=await productAPI.getAllProducts();setProducts(productsData.slice(0,4));// Show only 4 products on dashboard\n// Fetch user's groups\nconst groupsData=await groupAPI.getMyGroups();setUserGroups(groupsData);}catch(error){toast.error('Failed to load dashboard data');console.error(error);}finally{setIsLoading(false);}};fetchData();},[]);const formatDate=dateString=>{if(!dateString)return'Not locked yet';const date=new Date(dateString);return date.toLocaleDateString('en-IN',{year:'numeric',month:'short',day:'numeric'});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8 animate-fade-in\",children:[/*#__PURE__*/_jsx(PageHeader,{title:`Welcome ${(user===null||user===void 0?void 0:user.name)||'Customer'}!`,subtitle:\"Join product groups to get amazing discounts on local products. Groups lock every Saturday when they reach \\u20B91000 total value and 10+ members.\",showBackButton:false,className:\"p-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center md:justify-start mt-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 bg-customer-100 rounded-full flex items-center justify-center text-customer-600 animate-bounce-in\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-10 w-10\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"})})})})}),/*#__PURE__*/_jsx(MyDeals,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Your Stats\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-3 bg-gray-50 rounded\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Active Groups\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:userGroups.filter(g=>!g.locked_at).length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-3 bg-gray-50 rounded\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Locked Groups\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:userGroups.filter(g=>g.locked_at).length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-3 bg-gray-50 rounded\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Total Savings\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-green-600\",children:[\"\\u20B9\",userGroups.reduce((acc,group)=>{// Calculate approximate savings (10% of total)\nreturn acc+group.total_price*0.1;},0).toFixed(2)]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsx(Link,{to:\"/customer/group-status\",className:\"btn-secondary w-full text-center\",children:\"View All Groups\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Your Recent Groups\"}),isLoading?/*#__PURE__*/_jsx(\"p\",{className:\"text-center py-4\",children:\"Loading...\"}):userGroups.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[userGroups.slice(0,3).map(group=>/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:group.product.name}),/*#__PURE__*/_jsx(\"span\",{className:`text-sm px-2 py-1 rounded ${group.locked_at?'bg-green-100 text-green-800':'bg-yellow-100 text-yellow-800'}`,children:group.locked_at?'Locked':'Active'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Total: \\u20B9\",group.total_price]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Members: \",group.members]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Locked: \",formatDate(group.locked_at)]})})]})]},group.id)),/*#__PURE__*/_jsx(Link,{to:\"/customer/group-status\",className:\"block text-center text-primary-600 hover:text-primary-500 text-sm font-medium mt-2\",children:\"View all groups \\u2192\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:\"You haven't joined any groups yet.\"}),/*#__PURE__*/_jsx(Link,{to:\"/customer/products\",className:\"btn-primary\",children:\"Browse Products\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"Featured Products\"}),/*#__PURE__*/_jsxs(Link,{to:\"/customer/products\",className:\"text-primary-600 hover:text-primary-500 text-sm font-medium flex items-center\",children:[\"View all\",/*#__PURE__*/_jsx(\"svg\",{className:\"h-4 w-4 ml-1\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M9 5l7 7-7 7\"})})]})]}),isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin h-8 w-8 mx-auto text-primary-500\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-500\",children:\"Loading products...\"})]}):products.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:products.map(product=>{var _product$seller;return/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-4 flex items-center hover:shadow-md transition-shadow duration-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gray-100 rounded-md mr-4 overflow-hidden flex-shrink-0\",children:product.image_url?/*#__PURE__*/_jsx(\"img\",{src:product.image_url,alt:product.name,className:\"w-full h-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full flex items-center justify-center text-gray-400\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-8 w-8\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900\",children:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mt-1\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-primary-600 font-medium\",children:[\"\\u20B9\",product.price,\" per \",product.unit]}),/*#__PURE__*/_jsx(Link,{to:\"/customer/products\",className:\"text-xs bg-primary-50 text-primary-600 px-2 py-1 rounded-full hover:bg-primary-100 transition-colors duration-200\",children:\"Join Group\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[\"Sold by: \",((_product$seller=product.seller)===null||_product$seller===void 0?void 0:_product$seller.shop_name)||'Local Market']})]})]},product.id);})}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-12 w-12 mx-auto text-gray-400 mb-3\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No products available at the moment.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 mt-1\",children:\"Check back later for new arrivals.\"})]})]})]})]});};export default Dashboard;","map":{"version":3,"names":["useEffect","useState","Link","toast","MyDeals","PageHeader","useAuth","groupAPI","productAPI","jsx","_jsx","jsxs","_jsxs","Dashboard","user","products","setProducts","userGroups","setUserGroups","isLoading","setIsLoading","fetchData","productsData","getAllProducts","slice","groupsData","getMyGroups","error","console","formatDate","dateString","date","Date","toLocaleDateString","year","month","day","className","children","title","name","subtitle","showBackButton","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","filter","g","locked_at","length","reduce","acc","group","total_price","toFixed","to","map","product","members","id","cx","cy","r","_product$seller","image_url","src","alt","price","unit","seller","shop_name"],"sources":["E:/market_sell/frontend/src/pages/customer/Dashboard.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport MyDeals from '../../components/customer/MyDeals';\nimport PageHeader from '../../components/PageHeader';\nimport { useAuth } from '../../context/AuthContext';\nimport { groupAPI, productAPI } from '../../services/api';\n\nconst Dashboard = () => {\n  const { user } = useAuth();\n  const [products, setProducts] = useState([]);\n  const [userGroups, setUserGroups] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      try {\n        // Fetch products\n        const productsData = await productAPI.getAllProducts();\n        setProducts(productsData.slice(0, 4)); // Show only 4 products on dashboard\n\n        // Fetch user's groups\n        const groupsData = await groupAPI.getMyGroups();\n        setUserGroups(groupsData);\n      } catch (error) {\n        toast.error('Failed to load dashboard data');\n        console.error(error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'Not locked yet';\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-IN', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n    });\n  };\n\n  return (\n    <div className=\"container mx-auto px-4 py-8 animate-fade-in\">\n      <PageHeader\n        title={`Welcome ${user?.name || 'Customer'}!`}\n        subtitle=\"Join product groups to get amazing discounts on local products. Groups lock every Saturday when they reach ₹1000 total value and 10+ members.\"\n        showBackButton={false}\n        className=\"p-8\"\n      >\n        <div className=\"flex justify-center md:justify-start mt-4\">\n          <div className=\"w-20 h-20 bg-customer-100 rounded-full flex items-center justify-center text-customer-600 animate-bounce-in\">\n            <svg className=\"h-10 w-10\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n            </svg>\n          </div>\n        </div>\n      </PageHeader>\n      \n      {/* My Deals */}\n      <MyDeals />\n\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6\">\n        {/* Left column - User stats */}\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\n          <h2 className=\"text-xl font-semibold mb-4\">Your Stats</h2>\n          <div className=\"space-y-4\">\n            <div className=\"flex justify-between items-center p-3 bg-gray-50 rounded\">\n              <span className=\"text-gray-600\">Active Groups</span>\n              <span className=\"font-semibold\">\n                {userGroups.filter(g => !g.locked_at).length}\n              </span>\n            </div>\n            <div className=\"flex justify-between items-center p-3 bg-gray-50 rounded\">\n              <span className=\"text-gray-600\">Locked Groups</span>\n              <span className=\"font-semibold\">\n                {userGroups.filter(g => g.locked_at).length}\n              </span>\n            </div>\n            <div className=\"flex justify-between items-center p-3 bg-gray-50 rounded\">\n              <span className=\"text-gray-600\">Total Savings</span>\n              <span className=\"font-semibold text-green-600\">₹{userGroups.reduce((acc, group) => {\n                // Calculate approximate savings (10% of total)\n                return acc + (group.total_price * 0.1);\n              }, 0).toFixed(2)}</span>\n            </div>\n          </div>\n          <div className=\"mt-6\">\n            <Link to=\"/customer/group-status\" className=\"btn-secondary w-full text-center\">\n              View All Groups\n            </Link>\n          </div>\n        </div>\n\n        {/* Middle column - Recent groups */}\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\n          <h2 className=\"text-xl font-semibold mb-4\">Your Recent Groups</h2>\n          {isLoading ? (\n            <p className=\"text-center py-4\">Loading...</p>\n          ) : userGroups.length > 0 ? (\n            <div className=\"space-y-4\">\n              {userGroups.slice(0, 3).map((group) => (\n                <div key={group.id} className=\"border rounded-lg p-3\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"font-medium\">{group.product.name}</span>\n                    <span className={`text-sm px-2 py-1 rounded ${group.locked_at ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'}`}>\n                      {group.locked_at ? 'Locked' : 'Active'}\n                    </span>\n                  </div>\n                  <div className=\"mt-2 text-sm text-gray-600\">\n                    <div className=\"flex justify-between\">\n                      <span>Total: ₹{group.total_price}</span>\n                      <span>Members: {group.members}</span>\n                    </div>\n                    <div className=\"mt-1\">\n                      <span>Locked: {formatDate(group.locked_at)}</span>\n                    </div>\n                  </div>\n                </div>\n              ))}\n              <Link to=\"/customer/group-status\" className=\"block text-center text-primary-600 hover:text-primary-500 text-sm font-medium mt-2\">\n                View all groups →\n              </Link>\n            </div>\n          ) : (\n            <div className=\"text-center py-4\">\n              <p className=\"text-gray-500 mb-4\">You haven't joined any groups yet.</p>\n              <Link to=\"/customer/products\" className=\"btn-primary\">\n                Browse Products\n              </Link>\n            </div>\n          )}\n        </div>\n\n        {/* Right column - Featured products */}\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\n          <div className=\"flex justify-between items-center mb-6\">\n            <h2 className=\"text-xl font-semibold\">Featured Products</h2>\n            <Link to=\"/customer/products\" className=\"text-primary-600 hover:text-primary-500 text-sm font-medium flex items-center\">\n              View all\n              <svg className=\"h-4 w-4 ml-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 5l7 7-7 7\" />\n              </svg>\n            </Link>\n          </div>\n          \n          {isLoading ? (\n            <div className=\"text-center py-8\">\n              <svg className=\"animate-spin h-8 w-8 mx-auto text-primary-500\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n              <p className=\"mt-2 text-gray-500\">Loading products...</p>\n            </div>\n          ) : products.length > 0 ? (\n            <div className=\"space-y-4\">\n              {products.map((product) => (\n                <div key={product.id} className=\"border rounded-lg p-4 flex items-center hover:shadow-md transition-shadow duration-200\">\n                  <div className=\"w-16 h-16 bg-gray-100 rounded-md mr-4 overflow-hidden flex-shrink-0\">\n                    {product.image_url ? (\n                      <img \n                        src={product.image_url} \n                        alt={product.name} \n                        className=\"w-full h-full object-cover\"\n                      />\n                    ) : (\n                      <div className=\"w-full h-full flex items-center justify-center text-gray-400\">\n                        <svg className=\"h-8 w-8\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                        </svg>\n                      </div>\n                    )}\n                  </div>\n                  <div className=\"flex-1\">\n                    <h3 className=\"font-medium text-gray-900\">{product.name}</h3>\n                    <div className=\"flex justify-between items-center mt-1\">\n                      <p className=\"text-primary-600 font-medium\">₹{product.price} per {product.unit}</p>\n                      <Link to=\"/customer/products\" className=\"text-xs bg-primary-50 text-primary-600 px-2 py-1 rounded-full hover:bg-primary-100 transition-colors duration-200\">\n                        Join Group\n                      </Link>\n                    </div>\n                    <p className=\"text-xs text-gray-500 mt-1\">Sold by: {product.seller?.shop_name || 'Local Market'}</p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"text-center py-8 bg-gray-50 rounded-lg\">\n              <svg className=\"h-12 w-12 mx-auto text-gray-400 mb-3\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4\" />\n              </svg>\n              <p className=\"text-gray-500\">No products available at the moment.</p>\n              <p className=\"text-sm text-gray-400 mt-1\">Check back later for new arrivals.</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}