{"ast":null,"code":"import{useEffect,useState}from'react';import{toast}from'react-toastify';import PageHeader from'../../components/PageHeader';import{groupAPI,productAPI}from'../../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Products=()=>{var _selectedProduct$sell;const[products,setProducts]=useState([]);const[isLoading,setIsLoading]=useState(true);const[searchTerm,setSearchTerm]=useState('');const[selectedProduct,setSelectedProduct]=useState(null);const[quantity,setQuantity]=useState(1);const[showJoinModal,setShowJoinModal]=useState(false);const[isJoining,setIsJoining]=useState(false);useEffect(()=>{const fetchProducts=async()=>{setIsLoading(true);try{const data=await productAPI.getAllProducts();setProducts(data);}catch(error){toast.error('Failed to load products');console.error(error);}finally{setIsLoading(false);}};fetchProducts();},[]);const filteredProducts=products.filter(product=>product.name.toLowerCase().includes(searchTerm.toLowerCase()));const handleJoinGroup=product=>{setSelectedProduct(product);setQuantity(1);setShowJoinModal(true);};const handleSubmitJoin=async()=>{if(quantity<1){toast.error('Quantity must be at least 1');return;}setIsJoining(true);try{// First check if there's an existing group for this product\nconst groups=await groupAPI.getAllGroups();const existingGroup=groups.find(g=>g.product_id===selectedProduct.id&&!g.locked_at);if(existingGroup){// Join existing group\nawait groupAPI.joinGroup(existingGroup.id,quantity);toast.success(`Joined existing group for ${selectedProduct.name}`);}else{// Create new group\nconst newGroup=await groupAPI.createGroup(selectedProduct.id);// After creating group, join it with the selected quantity\nawait groupAPI.joinGroup(newGroup.id,quantity);toast.success(`Created new group for ${selectedProduct.name}`);}setShowJoinModal(false);}catch(error){toast.error(error.detail||'Failed to join group');}finally{setIsJoining(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8 animate-fade-in\",children:[/*#__PURE__*/_jsx(PageHeader,{title:\"Browse Products\",subtitle:\"Join groups to save up to 30% on local products\",showBackButton:true,backButtonPath:\"/customer/dashboard\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col md:flex-row gap-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex-grow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-3 top-3 text-gray-400\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"})})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search products by name, category, or seller...\",className:\"w-full p-3 pl-10 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 bg-white shadow-sm\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"absolute right-3 top-3 text-gray-400 hover:text-gray-600\",onClick:()=>setSearchTerm(''),children:searchTerm&&/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",clipRule:\"evenodd\"})})})]})})}),isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center py-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin h-10 w-10 mx-auto text-primary-500 mb-4\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Loading products...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 mt-1\",children:\"This may take a moment\"})]})}):filteredProducts.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",children:filteredProducts.map(product=>{var _product$seller;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden border border-gray-100 hover:shadow-lg transition-shadow duration-300\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"h-48 bg-gray-100 relative\",children:[product.image_url?/*#__PURE__*/_jsx(\"img\",{src:product.image_url,alt:product.name,className:\"w-full h-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-full text-gray-400\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-16 w-16\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2 right-2 bg-primary-50 text-primary-600 text-xs font-medium px-2 py-1 rounded-full\",children:product.unit})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-2\",children:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-3\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-primary-600 font-bold text-lg\",children:[\"\\u20B9\",product.price]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-50 text-green-600 text-xs px-2 py-1 rounded-full\",children:\"Save up to 30%\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-6 h-6 bg-gray-100 rounded-full flex items-center justify-center mr-2\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-4 w-4 text-gray-500\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z\"})})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"Sold by: \",((_product$seller=product.seller)===null||_product$seller===void 0?void 0:_product$seller.shop_name)||'Local Market']})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleJoinGroup(product),className:\"w-full bg-primary-600 text-white py-3 rounded-lg hover:bg-primary-700 transition-colors flex items-center justify-center font-medium\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 mr-2\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M12 4v16m8-8H4\"})}),\"Join Group\"]})]})]},product.id);})}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-16 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-16 w-16 mx-auto text-gray-400 mb-4\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-lg mb-2\",children:\"No products found matching your search.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:\"Try adjusting your search terms or browse all products.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSearchTerm(''),className:\"text-white bg-primary-600 hover:bg-primary-700 px-6 py-2 rounded-lg transition-colors\",children:\"View All Products\"})]}),showJoinModal&&selectedProduct&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-2xl max-w-md w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold\",children:\"Join Group\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowJoinModal(false),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6 bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gray-100 rounded-md overflow-hidden mr-4 flex-shrink-0\",children:selectedProduct.image_url?/*#__PURE__*/_jsx(\"img\",{src:selectedProduct.image_url,alt:selectedProduct.name,className:\"w-full h-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-full text-gray-400\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-8 w-8\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"})})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900\",children:selectedProduct.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-primary-600 font-medium\",children:[\"\\u20B9\",selectedProduct.price,\" per \",selectedProduct.unit]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[\"Sold by: \",((_selectedProduct$sell=selectedProduct.seller)===null||_selectedProduct$sell===void 0?void 0:_selectedProduct$sell.shop_name)||'Local Market']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 font-medium mb-2\",children:\"Select Quantity:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center border border-gray-300 rounded-lg overflow-hidden\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setQuantity(Math.max(1,quantity-1)),className:\"bg-gray-100 px-4 py-2 hover:bg-gray-200 transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-gray-600\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M20 12H4\"})})}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:quantity,onChange:e=>setQuantity(Math.max(1,parseInt(e.target.value)||1)),className:\"w-20 text-center border-x border-gray-300 py-2 focus:outline-none\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setQuantity(quantity+1),className:\"bg-gray-100 px-4 py-2 hover:bg-gray-200 transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-gray-600\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M12 4v16m8-8H4\"})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-primary-50 p-4 rounded-lg mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:\"Price per unit:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[\"\\u20B9\",selectedProduct.price]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mt-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:\"Quantity:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[quantity,\" \",selectedProduct.unit]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-primary-100 my-3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900 font-medium\",children:\"Total Amount:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-primary-600 font-bold text-xl\",children:[\"\\u20B9\",(selectedProduct.price*quantity).toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowJoinModal(false),className:\"px-5 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmitJoin,className:\"px-5 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:bg-gray-400 transition-colors flex items-center\",disabled:isJoining,children:isJoining?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}),\"Processing...\"]}):'Join Group'})]})]})})})]});};export default Products;","map":{"version":3,"names":["useEffect","useState","toast","PageHeader","groupAPI","productAPI","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Products","_selectedProduct$sell","products","setProducts","isLoading","setIsLoading","searchTerm","setSearchTerm","selectedProduct","setSelectedProduct","quantity","setQuantity","showJoinModal","setShowJoinModal","isJoining","setIsJoining","fetchProducts","data","getAllProducts","error","console","filteredProducts","filter","product","name","toLowerCase","includes","handleJoinGroup","handleSubmitJoin","groups","getAllGroups","existingGroup","find","g","product_id","id","locked_at","joinGroup","success","newGroup","createGroup","detail","className","children","title","subtitle","showBackButton","backButtonPath","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","type","placeholder","value","onChange","e","target","onClick","xmlns","fillRule","clipRule","cx","cy","r","length","map","_product$seller","image_url","src","alt","unit","price","seller","shop_name","Math","max","min","parseInt","toFixed","disabled"],"sources":["E:/market_sell/frontend/src/pages/customer/Products.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { toast } from 'react-toastify';\nimport PageHeader from '../../components/PageHeader';\nimport { groupAPI, productAPI } from '../../services/api';\n\nconst Products = () => {\n  const [products, setProducts] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const [quantity, setQuantity] = useState(1);\n  const [showJoinModal, setShowJoinModal] = useState(false);\n  const [isJoining, setIsJoining] = useState(false);\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      setIsLoading(true);\n      try {\n        const data = await productAPI.getAllProducts();\n        setProducts(data);\n      } catch (error) {\n        toast.error('Failed to load products');\n        console.error(error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchProducts();\n  }, []);\n\n  const filteredProducts = products.filter(product =>\n    product.name.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  const handleJoinGroup = (product) => {\n    setSelectedProduct(product);\n    setQuantity(1);\n    setShowJoinModal(true);\n  };\n\n  const handleSubmitJoin = async () => {\n    if (quantity < 1) {\n      toast.error('Quantity must be at least 1');\n      return;\n    }\n\n    setIsJoining(true);\n    try {\n      // First check if there's an existing group for this product\n      const groups = await groupAPI.getAllGroups();\n      const existingGroup = groups.find(\n        g => g.product_id === selectedProduct.id && !g.locked_at\n      );\n\n      if (existingGroup) {\n        // Join existing group\n        await groupAPI.joinGroup(existingGroup.id, quantity);\n        toast.success(`Joined existing group for ${selectedProduct.name}`);\n      } else {\n        // Create new group\n        const newGroup = await groupAPI.createGroup(selectedProduct.id);\n        // After creating group, join it with the selected quantity\n        await groupAPI.joinGroup(newGroup.id, quantity);\n        toast.success(`Created new group for ${selectedProduct.name}`);\n      }\n\n      setShowJoinModal(false);\n    } catch (error) {\n      toast.error(error.detail || 'Failed to join group');\n    } finally {\n      setIsJoining(false);\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto px-4 py-8 animate-fade-in\">\n      <PageHeader\n        title=\"Browse Products\"\n        subtitle=\"Join groups to save up to 30% on local products\"\n        showBackButton={true}\n        backButtonPath=\"/customer/dashboard\"\n      />\n      <div className=\"mb-8\">\n        <div className=\"flex flex-col md:flex-row gap-4\">\n          <div className=\"relative flex-grow\">\n            <div className=\"absolute left-3 top-3 text-gray-400\">\n              <svg className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n              </svg>\n            </div>\n            <input\n              type=\"text\"\n              placeholder=\"Search products by name, category, or seller...\"\n              className=\"w-full p-3 pl-10 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 bg-white shadow-sm\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n            />\n            <button \n              className=\"absolute right-3 top-3 text-gray-400 hover:text-gray-600\"\n              onClick={() => setSearchTerm('')}\n            >\n              {searchTerm && (\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n                </svg>\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {isLoading ? (\n        <div className=\"flex justify-center items-center py-12\">\n          <div className=\"text-center\">\n            <svg className=\"animate-spin h-10 w-10 mx-auto text-primary-500 mb-4\" fill=\"none\" viewBox=\"0 0 24 24\">\n              <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n              <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n            </svg>\n            <p className=\"text-gray-500\">Loading products...</p>\n            <p className=\"text-sm text-gray-400 mt-1\">This may take a moment</p>\n          </div>\n        </div>\n      ) : filteredProducts.length > 0 ? (\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n          {filteredProducts.map((product) => (\n            <div key={product.id} className=\"bg-white rounded-lg shadow-md overflow-hidden border border-gray-100 hover:shadow-lg transition-shadow duration-300\">\n              <div className=\"h-48 bg-gray-100 relative\">\n                {product.image_url ? (\n                  <img \n                    src={product.image_url} \n                    alt={product.name} \n                    className=\"w-full h-full object-cover\"\n                  />\n                ) : (\n                  <div className=\"flex items-center justify-center h-full text-gray-400\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-16 w-16\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                    </svg>\n                  </div>\n                )}\n                <div className=\"absolute top-2 right-2 bg-primary-50 text-primary-600 text-xs font-medium px-2 py-1 rounded-full\">\n                  {product.unit}\n                </div>\n              </div>\n              <div className=\"p-5\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">{product.name}</h3>\n                <div className=\"flex justify-between items-center mb-3\">\n                  <p className=\"text-primary-600 font-bold text-lg\">₹{product.price}</p>\n                  <div className=\"bg-green-50 text-green-600 text-xs px-2 py-1 rounded-full\">\n                    Save up to 30%\n                  </div>\n                </div>\n                <div className=\"flex items-center mb-4\">\n                  <div className=\"w-6 h-6 bg-gray-100 rounded-full flex items-center justify-center mr-2\">\n                    <svg className=\"h-4 w-4 text-gray-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z\" />\n                    </svg>\n                  </div>\n                  <p className=\"text-sm text-gray-500\">Sold by: {product.seller?.shop_name || 'Local Market'}</p>\n                </div>\n                <button\n                  onClick={() => handleJoinGroup(product)}\n                  className=\"w-full bg-primary-600 text-white py-3 rounded-lg hover:bg-primary-700 transition-colors flex items-center justify-center font-medium\"\n                >\n                  <svg className=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 4v16m8-8H4\" />\n                  </svg>\n                  Join Group\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      ) : (\n        <div className=\"text-center py-16 bg-gray-50 rounded-lg\">\n          <svg className=\"h-16 w-16 mx-auto text-gray-400 mb-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n          </svg>\n          <p className=\"text-gray-600 text-lg mb-2\">No products found matching your search.</p>\n          <p className=\"text-gray-500 mb-4\">Try adjusting your search terms or browse all products.</p>\n          <button \n            onClick={() => setSearchTerm('')}\n            className=\"text-white bg-primary-600 hover:bg-primary-700 px-6 py-2 rounded-lg transition-colors\"\n          >\n            View All Products\n          </button>\n        </div>\n      )}\n\n      {/* Join Group Modal */}\n      {showJoinModal && selectedProduct && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white rounded-xl shadow-2xl max-w-md w-full\">\n            <div className=\"p-6\">\n              <div className=\"flex justify-between items-center mb-4\">\n                <h3 className=\"text-xl font-semibold\">Join Group</h3>\n                <button \n                  onClick={() => setShowJoinModal(false)}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n              \n              <div className=\"flex items-center mb-6 bg-gray-50 p-4 rounded-lg\">\n                <div className=\"w-16 h-16 bg-gray-100 rounded-md overflow-hidden mr-4 flex-shrink-0\">\n                  {selectedProduct.image_url ? (\n                    <img \n                      src={selectedProduct.image_url} \n                      alt={selectedProduct.name} \n                      className=\"w-full h-full object-cover\"\n                    />\n                  ) : (\n                    <div className=\"flex items-center justify-center h-full text-gray-400\">\n                      <svg className=\"h-8 w-8\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                      </svg>\n                    </div>\n                  )}\n                </div>\n                <div>\n                  <h4 className=\"font-medium text-gray-900\">{selectedProduct.name}</h4>\n                  <p className=\"text-primary-600 font-medium\">₹{selectedProduct.price} per {selectedProduct.unit}</p>\n                  <p className=\"text-xs text-gray-500 mt-1\">Sold by: {selectedProduct.seller?.shop_name || 'Local Market'}</p>\n                </div>\n              </div>\n              \n              <div className=\"mb-6\">\n                <label className=\"block text-gray-700 font-medium mb-2\">Select Quantity:</label>\n                <div className=\"flex items-center border border-gray-300 rounded-lg overflow-hidden\">\n                  <button \n                    onClick={() => setQuantity(Math.max(1, quantity - 1))}\n                    className=\"bg-gray-100 px-4 py-2 hover:bg-gray-200 transition-colors\"\n                  >\n                    <svg className=\"h-5 w-5 text-gray-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M20 12H4\" />\n                    </svg>\n                  </button>\n                  <input \n                    type=\"number\" \n                    min=\"1\"\n                    value={quantity}\n                    onChange={(e) => setQuantity(Math.max(1, parseInt(e.target.value) || 1))}\n                    className=\"w-20 text-center border-x border-gray-300 py-2 focus:outline-none\"\n                  />\n                  <button \n                    onClick={() => setQuantity(quantity + 1)}\n                    className=\"bg-gray-100 px-4 py-2 hover:bg-gray-200 transition-colors\"\n                  >\n                    <svg className=\"h-5 w-5 text-gray-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 4v16m8-8H4\" />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n              \n              <div className=\"bg-primary-50 p-4 rounded-lg mb-6\">\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-gray-700\">Price per unit:</span>\n                  <span className=\"font-medium\">₹{selectedProduct.price}</span>\n                </div>\n                <div className=\"flex justify-between items-center mt-2\">\n                  <span className=\"text-gray-700\">Quantity:</span>\n                  <span className=\"font-medium\">{quantity} {selectedProduct.unit}</span>\n                </div>\n                <div className=\"border-t border-primary-100 my-3\"></div>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-gray-900 font-medium\">Total Amount:</span>\n                  <span className=\"text-primary-600 font-bold text-xl\">₹{(selectedProduct.price * quantity).toFixed(2)}</span>\n                </div>\n              </div>\n              \n              <div className=\"flex justify-end space-x-3\">\n                <button\n                  onClick={() => setShowJoinModal(false)}\n                  className=\"px-5 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleSubmitJoin}\n                  className=\"px-5 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:bg-gray-400 transition-colors flex items-center\"\n                  disabled={isJoining}\n                >\n                  {isJoining ? (\n                    <>\n                      <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" fill=\"none\" viewBox=\"0 0 24 24\">\n                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                      </svg>\n                      Processing...\n                    </>\n                  ) : 'Join Group'}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Products;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}