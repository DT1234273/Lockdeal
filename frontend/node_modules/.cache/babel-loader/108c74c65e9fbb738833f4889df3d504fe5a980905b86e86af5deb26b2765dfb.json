{"ast":null,"code":"var _jsxFileName = \"E:\\\\market_sell\\\\frontend\\\\src\\\\context\\\\AuthContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useContext, useEffect, useState } from 'react';\nimport axios from '../services/axiosConfig';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext();\nexport const useAuth = () => {\n  _s();\n  return useContext(AuthContext);\n};\n_s(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const AuthProvider = ({\n  children\n}) => {\n  _s2();\n  const [user, setUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [tempEmail, setTempEmail] = useState('');\n\n  // Customer address state\n  const [customerAddress, setCustomerAddress] = useState(null);\n  const fetchUserProfile = async () => {\n    try {\n      const response = await axios.get('/api/auth/profile');\n      return response.data;\n    } catch (error) {\n      var _error$response;\n      throw ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || {\n        detail: 'An error occurred while fetching user profile'\n      };\n    }\n  };\n  useEffect(() => {\n    // Check if user is already logged in\n    const token = localStorage.getItem('token');\n    const userData = localStorage.getItem('user');\n    if (token && userData) {\n      const parsedUserData = JSON.parse(userData);\n      setUser(parsedUserData);\n      setIsAuthenticated(true);\n\n      // Fetch complete user profile if we have a token\n      if (parsedUserData && parsedUserData.id) {\n        fetchUserProfile().then(profileData => {\n          // Update user data with complete profile\n          const updatedUserData = {\n            ...parsedUserData,\n            ...profileData\n          };\n          setUser(updatedUserData);\n          localStorage.setItem('user', JSON.stringify(updatedUserData));\n        }).catch(error => {\n          console.error('Failed to fetch user profile:', error);\n        });\n      }\n\n      // Token is handled by axios interceptors in axiosConfig.js\n    }\n    setLoading(false);\n  }, []);\n  const login = async (email, password) => {\n    try {\n      const response = await axios.post('/api/auth/login', {\n        email,\n        password\n      });\n      setTempEmail(email);\n      return response.data;\n    } catch (error) {\n      var _error$response2;\n      throw ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || {\n        detail: 'An error occurred during login'\n      };\n    }\n  };\n  const register = async (name, email, password, confirmPassword, role) => {\n    try {\n      const response = await axios.post('/api/auth/register', {\n        name,\n        email,\n        password,\n        confirm_password: confirmPassword,\n        role\n      });\n      setTempEmail(email);\n      return response.data;\n    } catch (error) {\n      var _error$response3;\n      throw ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data) || {\n        detail: 'An error occurred during registration'\n      };\n    }\n  };\n  const resendOTP = async email => {\n    try {\n      const response = await axios.post('/api/auth/resend-otp', {\n        email\n      });\n      return response.data;\n    } catch (error) {\n      var _error$response4;\n      throw ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.data) || {\n        detail: 'An error occurred while resending OTP'\n      };\n    }\n  };\n  const verifyOTP = async (email, otp_code) => {\n    try {\n      const response = await axios.post('/api/auth/verify-otp', {\n        email,\n        otp_code\n      });\n      const {\n        access_token,\n        user_id,\n        role\n      } = response.data;\n\n      // Save token and user data\n      localStorage.setItem('token', access_token);\n      const userData = {\n        id: user_id,\n        email,\n        role\n      };\n      localStorage.setItem('user', JSON.stringify(userData));\n\n      // Set user in state\n      setUser(userData);\n      setIsAuthenticated(true);\n\n      // Token is handled by axios interceptors in axiosConfig.js\n\n      // Fetch complete user profile after successful login\n      try {\n        const profileData = await fetchUserProfile();\n        const updatedUserData = {\n          ...userData,\n          ...profileData\n        };\n        setUser(updatedUserData);\n        localStorage.setItem('user', JSON.stringify(updatedUserData));\n\n        // If user is a seller, create seller profile if it doesn't exist\n        if (role === 'seller' && !profileData.seller) {\n          console.log('Creating seller profile for user:', user_id);\n          try {\n            // Default seller data\n            const defaultSellerData = {\n              shop_name: profileData.name + \"'s Shop\",\n              address: \"\",\n              contact: \"\"\n            };\n\n            // Register seller profile\n            await registerSeller(defaultSellerData);\n\n            // Fetch updated profile after seller registration\n            const updatedProfileData = await fetchUserProfile();\n            const finalUserData = {\n              ...updatedUserData,\n              ...updatedProfileData\n            };\n            setUser(finalUserData);\n            localStorage.setItem('user', JSON.stringify(finalUserData));\n          } catch (sellerError) {\n            console.error('Failed to create seller profile:', sellerError);\n          }\n        }\n      } catch (profileError) {\n        console.error('Failed to fetch user profile:', profileError);\n      }\n      return response.data;\n    } catch (error) {\n      var _error$response5;\n      throw ((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.data) || {\n        detail: 'An error occurred during OTP verification'\n      };\n    }\n  };\n  const logout = () => {\n    // Remove token and user data\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n\n    // Reset state\n    setUser(null);\n    setIsAuthenticated(false);\n\n    // Token removal is handled by axios interceptors in axiosConfig.js\n  };\n  const registerSeller = async sellerData => {\n    try {\n      console.log('Registering seller with data:', sellerData);\n      console.log('User ID:', user.id);\n      const response = await axios.post(`/api/auth/register-seller?user_id=${user.id}`, sellerData);\n      console.log('Seller registration response:', response.data);\n      return response.data;\n    } catch (error) {\n      var _error$response6;\n      console.error('Seller registration error:', error);\n      throw ((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.data) || {\n        detail: 'An error occurred during seller registration'\n      };\n    }\n  };\n  const updateSellerAddress = async addressData => {\n    try {\n      console.log('Updating seller address for user ID:', user.id);\n      const response = await axios.put('/api/auth/update-seller-profile', {\n        address: addressData.address,\n        contact: addressData.contact\n      });\n\n      // Fetch updated profile after address update\n      const profileData = await fetchUserProfile();\n      const updatedUserData = {\n        ...user,\n        ...profileData\n      };\n      setUser(updatedUserData);\n      localStorage.setItem('user', JSON.stringify(updatedUserData));\n      return response.data;\n    } catch (error) {\n      var _error$response7;\n      console.error('Failed to update seller address:', error);\n      throw ((_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : _error$response7.data) || {\n        detail: 'An error occurred while updating seller address'\n      };\n    }\n  };\n  const updateCustomerAddress = async addressData => {\n    try {\n      // Store address in local storage for now (frontend-only implementation)\n      // In a real implementation, this would call a backend API endpoint\n      setCustomerAddress(addressData);\n\n      // Update the user object with the address information\n      const updatedUserData = {\n        ...user,\n        customerAddress: addressData\n      };\n      setUser(updatedUserData);\n      localStorage.setItem('customerAddress', JSON.stringify(addressData));\n      localStorage.setItem('user', JSON.stringify(updatedUserData));\n      toast.success('Address updated successfully!');\n      return {\n        success: true,\n        message: 'Address updated successfully'\n      };\n    } catch (error) {\n      var _error$response8;\n      console.error('Failed to update customer address:', error);\n      // Removed toast.error to prevent 'not found' popup\n      throw ((_error$response8 = error.response) === null || _error$response8 === void 0 ? void 0 : _error$response8.data) || {\n        detail: 'An error occurred while updating customer address'\n      };\n    }\n  };\n  const paySellerFee = async () => {\n    try {\n      console.log('Processing payment for user ID:', user.id);\n      const response = await axios.post(`/api/auth/pay-seller-fee/${user.id}`);\n      console.log('Payment successful, updating user data...');\n      console.log('Payment response:', response.data);\n      console.log('Current user state:', user);\n\n      // Use the seller data from the response if available\n      const sellerFromResponse = response.data.seller;\n\n      // Always fetch the complete profile after payment to ensure we have the latest data\n      try {\n        const profileData = await fetchUserProfile();\n        console.log('Fetched profile data:', profileData);\n\n        // Create updated user with paid_99 set to true\n        const updatedUserData = {\n          ...user,\n          ...profileData,\n          seller: {\n            ...(profileData.seller || {}),\n            paid_99: true\n          }\n        };\n        console.log('Updated user data:', updatedUserData);\n\n        // Update state and localStorage\n        setUser(updatedUserData);\n        localStorage.setItem('user', JSON.stringify(updatedUserData));\n      } catch (profileError) {\n        console.error('Failed to fetch updated user profile:', profileError);\n\n        // Fallback: Use seller data from response if available\n        if (sellerFromResponse && sellerFromResponse.paid_99) {\n          console.log('Using seller data from response as fallback');\n          const updatedSeller = {\n            ...user.seller,\n            paid_99: sellerFromResponse.paid_99\n          };\n          const updatedUser = {\n            ...user,\n            seller: updatedSeller\n          };\n          setUser(updatedUser);\n          localStorage.setItem('user', JSON.stringify(updatedUser));\n        } else {\n          // Last resort fallback\n          console.log('Using hardcoded fallback for seller data');\n          const updatedSeller = {\n            ...user.seller,\n            paid_99: true\n          };\n          const updatedUser = {\n            ...user,\n            seller: updatedSeller\n          };\n          setUser(updatedUser);\n          localStorage.setItem('user', JSON.stringify(updatedUser));\n        }\n      }\n      return response.data;\n    } catch (error) {\n      var _error$response9;\n      console.error('Payment error:', error);\n      // Don't show toast.error for payment errors\n      throw ((_error$response9 = error.response) === null || _error$response9 === void 0 ? void 0 : _error$response9.data) || {\n        detail: 'An error occurred during payment. Please try again.'\n      };\n    }\n  };\n\n  // Load customer address from localStorage on initialization\n  useEffect(() => {\n    const savedAddress = localStorage.getItem('customerAddress');\n    if (savedAddress) {\n      try {\n        setCustomerAddress(JSON.parse(savedAddress));\n      } catch (error) {\n        console.error('Failed to parse saved customer address:', error);\n      }\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      user,\n      isAuthenticated,\n      loading,\n      tempEmail,\n      customerAddress,\n      login,\n      register,\n      verifyOTP,\n      resendOTP,\n      logout,\n      registerSeller,\n      updateSellerAddress,\n      updateCustomerAddress,\n      paySellerFee,\n      fetchUserProfile,\n      setTempEmail\n    },\n    children: !loading && children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 286,\n    columnNumber: 5\n  }, this);\n};\n_s2(AuthProvider, \"s45i1DAYnKeixZImPvsoCtcHhoU=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["createContext","useContext","useEffect","useState","axios","toast","jsxDEV","_jsxDEV","AuthContext","useAuth","_s","AuthProvider","children","_s2","user","setUser","isAuthenticated","setIsAuthenticated","loading","setLoading","tempEmail","setTempEmail","customerAddress","setCustomerAddress","fetchUserProfile","response","get","data","error","_error$response","detail","token","localStorage","getItem","userData","parsedUserData","JSON","parse","id","then","profileData","updatedUserData","setItem","stringify","catch","console","login","email","password","post","_error$response2","register","name","confirmPassword","role","confirm_password","_error$response3","resendOTP","_error$response4","verifyOTP","otp_code","access_token","user_id","seller","log","defaultSellerData","shop_name","address","contact","registerSeller","updatedProfileData","finalUserData","sellerError","profileError","_error$response5","logout","removeItem","sellerData","_error$response6","updateSellerAddress","addressData","put","_error$response7","updateCustomerAddress","success","message","_error$response8","paySellerFee","sellerFromResponse","paid_99","updatedSeller","updatedUser","_error$response9","savedAddress","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/market_sell/frontend/src/context/AuthContext.js"],"sourcesContent":["import { createContext, useContext, useEffect, useState } from 'react';\nimport axios from '../services/axiosConfig';\nimport { toast } from 'react-toastify';\n\nconst AuthContext = createContext();\n\nexport const useAuth = () => useContext(AuthContext);\n\nexport const AuthProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [tempEmail, setTempEmail] = useState('');\n  \n  // Customer address state\n  const [customerAddress, setCustomerAddress] = useState(null);\n  \n  const fetchUserProfile = async () => {\n    try {\n      const response = await axios.get('/api/auth/profile');\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || { detail: 'An error occurred while fetching user profile' };\n    }\n  };\n  \n  useEffect(() => {\n    // Check if user is already logged in\n    const token = localStorage.getItem('token');\n    const userData = localStorage.getItem('user');\n    \n    if (token && userData) {\n      const parsedUserData = JSON.parse(userData);\n      setUser(parsedUserData);\n      setIsAuthenticated(true);\n      \n      // Fetch complete user profile if we have a token\n      if (parsedUserData && parsedUserData.id) {\n        fetchUserProfile()\n          .then(profileData => {\n            // Update user data with complete profile\n            const updatedUserData = { ...parsedUserData, ...profileData };\n            setUser(updatedUserData);\n            localStorage.setItem('user', JSON.stringify(updatedUserData));\n          })\n          .catch(error => {\n            console.error('Failed to fetch user profile:', error);\n          });\n      }\n      \n      // Token is handled by axios interceptors in axiosConfig.js\n    }\n    \n    setLoading(false);\n  }, []);\n  \n  const login = async (email, password) => {\n    try {\n      const response = await axios.post('/api/auth/login', { email, password });\n      setTempEmail(email);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || { detail: 'An error occurred during login' };\n    }\n  };\n  \n  const register = async (name, email, password, confirmPassword, role) => {\n    try {\n      const response = await axios.post('/api/auth/register', { name, email, password, confirm_password: confirmPassword, role });\n      setTempEmail(email);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || { detail: 'An error occurred during registration' };\n    }\n  };\n  \n  const resendOTP = async (email) => {\n    try {\n      const response = await axios.post('/api/auth/resend-otp', { email });\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || { detail: 'An error occurred while resending OTP' };\n    }\n  };\n\n  const verifyOTP = async (email, otp_code) => {\n    try {\n      const response = await axios.post('/api/auth/verify-otp', { email, otp_code });\n      const { access_token, user_id, role } = response.data;\n      \n      // Save token and user data\n      localStorage.setItem('token', access_token);\n      const userData = { id: user_id, email, role };\n      localStorage.setItem('user', JSON.stringify(userData));\n      \n      // Set user in state\n      setUser(userData);\n      setIsAuthenticated(true);\n      \n      // Token is handled by axios interceptors in axiosConfig.js\n      \n      // Fetch complete user profile after successful login\n      try {\n        const profileData = await fetchUserProfile();\n        const updatedUserData = { ...userData, ...profileData };\n        setUser(updatedUserData);\n        localStorage.setItem('user', JSON.stringify(updatedUserData));\n        \n        // If user is a seller, create seller profile if it doesn't exist\n        if (role === 'seller' && !profileData.seller) {\n          console.log('Creating seller profile for user:', user_id);\n          try {\n            // Default seller data\n            const defaultSellerData = {\n              shop_name: profileData.name + \"'s Shop\",\n              address: \"\",\n              contact: \"\"\n            };\n            \n            // Register seller profile\n            await registerSeller(defaultSellerData);\n            \n            // Fetch updated profile after seller registration\n            const updatedProfileData = await fetchUserProfile();\n            const finalUserData = { ...updatedUserData, ...updatedProfileData };\n            setUser(finalUserData);\n            localStorage.setItem('user', JSON.stringify(finalUserData));\n          } catch (sellerError) {\n            console.error('Failed to create seller profile:', sellerError);\n          }\n        }\n      } catch (profileError) {\n        console.error('Failed to fetch user profile:', profileError);\n      }\n      \n      return response.data;\n    } catch (error) {\n      throw error.response?.data || { detail: 'An error occurred during OTP verification' };\n    }\n  };\n  \n  const logout = () => {\n    // Remove token and user data\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    \n    // Reset state\n    setUser(null);\n    setIsAuthenticated(false);\n    \n    // Token removal is handled by axios interceptors in axiosConfig.js\n  };\n  \n  const registerSeller = async (sellerData) => {\n    try {\n      console.log('Registering seller with data:', sellerData);\n      console.log('User ID:', user.id);\n      const response = await axios.post(`/api/auth/register-seller?user_id=${user.id}`, sellerData);\n      console.log('Seller registration response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Seller registration error:', error);\n      throw error.response?.data || { detail: 'An error occurred during seller registration' };\n    }\n  };\n  \n  const updateSellerAddress = async (addressData) => {\n    try {\n      console.log('Updating seller address for user ID:', user.id);\n      const response = await axios.put('/api/auth/update-seller-profile', { \n        address: addressData.address,\n        contact: addressData.contact\n      });\n      \n      // Fetch updated profile after address update\n      const profileData = await fetchUserProfile();\n      const updatedUserData = { ...user, ...profileData };\n      setUser(updatedUserData);\n      localStorage.setItem('user', JSON.stringify(updatedUserData));\n      \n      return response.data;\n    } catch (error) {\n      console.error('Failed to update seller address:', error);\n      throw error.response?.data || { detail: 'An error occurred while updating seller address' };\n    }\n  };\n  \n  const updateCustomerAddress = async (addressData) => {\n    try {\n      // Store address in local storage for now (frontend-only implementation)\n      // In a real implementation, this would call a backend API endpoint\n      setCustomerAddress(addressData);\n      \n      // Update the user object with the address information\n      const updatedUserData = { \n        ...user, \n        customerAddress: addressData \n      };\n      \n      setUser(updatedUserData);\n      localStorage.setItem('customerAddress', JSON.stringify(addressData));\n      localStorage.setItem('user', JSON.stringify(updatedUserData));\n      \n      toast.success('Address updated successfully!');\n      return { success: true, message: 'Address updated successfully' };\n    } catch (error) {\n      console.error('Failed to update customer address:', error);\n      // Removed toast.error to prevent 'not found' popup\n      throw error.response?.data || { detail: 'An error occurred while updating customer address' };\n    }\n  };\n  \n  const paySellerFee = async () => {\n    try {\n      console.log('Processing payment for user ID:', user.id);\n      const response = await axios.post(`/api/auth/pay-seller-fee/${user.id}`);\n      \n      console.log('Payment successful, updating user data...');\n      console.log('Payment response:', response.data);\n      console.log('Current user state:', user);\n      \n      // Use the seller data from the response if available\n      const sellerFromResponse = response.data.seller;\n      \n      // Always fetch the complete profile after payment to ensure we have the latest data\n      try {\n        const profileData = await fetchUserProfile();\n        console.log('Fetched profile data:', profileData);\n        \n        // Create updated user with paid_99 set to true\n        const updatedUserData = { \n          ...user, \n          ...profileData,\n          seller: {\n            ...(profileData.seller || {}),\n            paid_99: true\n          }\n        };\n        \n        console.log('Updated user data:', updatedUserData);\n        \n        // Update state and localStorage\n        setUser(updatedUserData);\n        localStorage.setItem('user', JSON.stringify(updatedUserData));\n      } catch (profileError) {\n        console.error('Failed to fetch updated user profile:', profileError);\n        \n        // Fallback: Use seller data from response if available\n        if (sellerFromResponse && sellerFromResponse.paid_99) {\n          console.log('Using seller data from response as fallback');\n          const updatedSeller = { ...user.seller, paid_99: sellerFromResponse.paid_99 };\n          const updatedUser = { ...user, seller: updatedSeller };\n          setUser(updatedUser);\n          localStorage.setItem('user', JSON.stringify(updatedUser));\n        } else {\n          // Last resort fallback\n          console.log('Using hardcoded fallback for seller data');\n          const updatedSeller = { ...user.seller, paid_99: true };\n          const updatedUser = { ...user, seller: updatedSeller };\n          setUser(updatedUser);\n          localStorage.setItem('user', JSON.stringify(updatedUser));\n        }\n      }\n      \n      return response.data;\n    } catch (error) {\n      console.error('Payment error:', error);\n      // Don't show toast.error for payment errors\n      throw error.response?.data || { detail: 'An error occurred during payment. Please try again.' };\n    }\n  };\n  \n  // Load customer address from localStorage on initialization\n  useEffect(() => {\n    const savedAddress = localStorage.getItem('customerAddress');\n    if (savedAddress) {\n      try {\n        setCustomerAddress(JSON.parse(savedAddress));\n      } catch (error) {\n        console.error('Failed to parse saved customer address:', error);\n      }\n    }\n  }, []);\n  \n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        isAuthenticated,\n        loading,\n        tempEmail,\n        customerAddress,\n        login,\n        register,\n        verifyOTP,\n        resendOTP,\n        logout,\n        registerSeller,\n        updateSellerAddress,\n        updateCustomerAddress,\n        paySellerFee,\n        fetchUserProfile,\n        setTempEmail\n      }}\n    >\n      {!loading && children}\n    </AuthContext.Provider>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}