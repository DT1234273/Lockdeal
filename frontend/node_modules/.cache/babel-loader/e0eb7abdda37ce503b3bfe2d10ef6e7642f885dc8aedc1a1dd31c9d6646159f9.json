{"ast":null,"code":"import{useEffect,useState}from'react';import{Link}from'react-router-dom';import{toast}from'react-toastify';import PageHeader from'../../components/PageHeader';import{useAuth}from'../../context/AuthContext';import{groupAPI}from'../../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ViewGroups=()=>{var _user$seller2;const{user}=useAuth();const[groups,setGroups]=useState([]);const[isLoading,setIsLoading]=useState(true);const[activeTab,setActiveTab]=useState('locked');const[selectedGroup,setSelectedGroup]=useState(null);const[showAcceptModal,setShowAcceptModal]=useState(false);const[isAccepting,setIsAccepting]=useState(false);const[showOTPModal,setShowOTPModal]=useState(false);const[pickupOTP,setPickupOTP]=useState('');const[isGeneratingOTP,setIsGeneratingOTP]=useState(false);useEffect(()=>{console.log('ViewGroups component mounted');console.log('Current user:',user);fetchGroups();},[]);// Define filteredGroups before using it in useEffect\nconst filteredGroups=groups.filter(group=>{var _group$product;// Check if the product belongs to the current seller\nconst isOwnProduct=(user===null||user===void 0?void 0:user.id)&&((_group$product=group.product)===null||_group$product===void 0?void 0:_group$product.seller_id)===user.id;if(activeTab==='locked'){// For locked tab, show all seller's own products that are not accepted/picked up\n// OR show locked groups from other sellers\nreturn isOwnProduct&&!group.is_accepted&&!group.is_picked_up||group.locked_at&&!group.is_accepted&&!group.is_picked_up;}if(activeTab==='accepted')return group.is_accepted&&!group.is_picked_up;if(activeTab==='completed')return group.is_picked_up;return true;});// Add a useEffect to monitor groups state changes\nuseEffect(()=>{console.log('Groups state updated:',groups);console.log('Active tab:',activeTab);console.log('Filtered groups:',filteredGroups);},[groups,activeTab,filteredGroups]);const fetchGroups=async()=>{setIsLoading(true);try{console.log('Fetching groups for seller...');const data=await groupAPI.getMyGroups();console.log('Groups data received:',data);setGroups(data);}catch(error){const errorMessage=error.detail||'Failed to load groups';toast.error(errorMessage);console.error('Error fetching groups:',error);}finally{setIsLoading(false);}};const handleAcceptGroup=group=>{setSelectedGroup(group);setShowAcceptModal(true);};const confirmAcceptGroup=async()=>{setIsAccepting(true);try{await groupAPI.acceptGroup(selectedGroup.id);toast.success(`Group for ${selectedGroup.product.name} accepted successfully!`);setShowAcceptModal(false);fetchGroups();// Refresh the list\n}catch(error){toast.error(error.detail||'Failed to accept group');}finally{setIsAccepting(false);}};const handleGenerateOTP=group=>{setSelectedGroup(group);setPickupOTP('');setIsGeneratingOTP(true);// In a real app, this would call an API to generate OTP\n// For demo, we'll generate a random 6-digit OTP\nconst otp=Math.floor(100000+Math.random()*900000).toString();setTimeout(()=>{setPickupOTP(otp);setIsGeneratingOTP(false);setShowOTPModal(true);},1000);};const formatDate=dateString=>{if(!dateString)return'Not locked yet';const date=new Date(dateString);return date.toLocaleDateString('en-IN',{year:'numeric',month:'short',day:'numeric'});};// Debug groups data\nuseEffect(()=>{console.log('ViewGroups - Groups data:',groups);console.log('ViewGroups - Filtered groups:',filteredGroups);console.log('ViewGroups - Active tab:',activeTab);},[groups,filteredGroups,activeTab]);// Debug user state\nuseEffect(()=>{var _user$seller,_storedUser$seller;console.log('ViewGroups - Current user state:',user);console.log('ViewGroups - Seller paid status:',user===null||user===void 0?void 0:(_user$seller=user.seller)===null||_user$seller===void 0?void 0:_user$seller.paid_99);// Check localStorage as well\nconst storedUser=JSON.parse(localStorage.getItem('user'));console.log('ViewGroups - User from localStorage:',storedUser);console.log('ViewGroups - Seller paid status from localStorage:',storedUser===null||storedUser===void 0?void 0:(_storedUser$seller=storedUser.seller)===null||_storedUser$seller===void 0?void 0:_storedUser$seller.paid_99);},[user]);// If seller hasn't paid the fee, show access denied screen\nif(!(user!==null&&user!==void 0&&(_user$seller2=user.seller)!==null&&_user$seller2!==void 0&&_user$seller2.paid_99)){console.log('ViewGroups - Access denied: seller has not paid fee');return/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-2xl mx-auto bg-white rounded-lg shadow-lg p-8 border border-gray-200 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-block p-4 rounded-full bg-red-100 text-red-600 mb-6\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-16 w-16\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M12 15v2m0 0v2m0-2h2m-2 0H9m3-4V8m-3 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-4\",children:\"Access Denied\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-600 mb-8 max-w-md mx-auto\",children:\"You need to pay the seller onboarding fee of \\u20B999 to access group management features.\"}),/*#__PURE__*/_jsxs(Link,{to:\"/seller/dashboard\",className:\"inline-flex items-center justify-center px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg shadow-md hover:shadow-lg transition-all duration-200\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 mr-2\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z\"})}),\"Go to Dashboard & Pay Fee\"]})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8 animate-fade-in\",children:[/*#__PURE__*/_jsx(PageHeader,{title:\"Manage Groups\",subtitle:\"View and manage your product groups\",backButtonPath:\"/seller/dashboard\"}),/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200 mb-6\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"-mb-px flex space-x-8\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('locked'),className:`pb-4 px-1 border-b-2 font-medium text-sm ${activeTab==='locked'?'border-primary-500 text-primary-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,children:\"Locked Groups\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('accepted'),className:`pb-4 px-1 border-b-2 font-medium text-sm ${activeTab==='accepted'?'border-primary-500 text-primary-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,children:\"Accepted Groups\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('completed'),className:`pb-4 px-1 border-b-2 font-medium text-sm ${activeTab==='completed'?'border-primary-500 text-primary-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,children:\"Completed Groups\"})]})}),isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Loading groups...\"})}):filteredGroups.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 p-4 rounded-lg mb-6\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-800 text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Note:\"}),\" Groups are visible when they meet at least one of these criteria:\",/*#__PURE__*/_jsx(\"br\",{}),\"1. \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"The product belongs to you as a seller\"}),\" (all your product groups are shown)\",/*#__PURE__*/_jsx(\"br\",{}),\"2. The group has \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"10 or more members\"}),/*#__PURE__*/_jsx(\"br\",{}),\"3. The total order value is \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\u20B91000 or more\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 p-3 rounded-md mb-6\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-yellow-800 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 mr-1\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\",clipRule:\"evenodd\"})}),\"Groups can be accepted anytime, but distribution will only happen on Saturday or Sunday.\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:filteredGroups.map(group=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold\",children:group.product.name}),/*#__PURE__*/_jsx(\"span\",{className:`text-xs px-2 py-1 rounded-full ${group.is_picked_up?'bg-green-100 text-green-800':group.is_accepted?'bg-blue-100 text-blue-800':group.members>=10||group.total_price>=1000?'bg-green-100 text-green-800':'bg-yellow-100 text-yellow-800'}`,children:group.is_picked_up?'Completed':group.is_accepted?'Accepted':group.members>=10||group.total_price>=1000?'Unlocked':'Locked'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm text-gray-600 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Price:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",group.product.price,\" per \",group.product.unit]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total Quantity:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[group.total_quantity,\" \",group.product.unit]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Group Total:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[\"\\u20B9\",group.total_price.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Members:\"}),/*#__PURE__*/_jsx(\"span\",{children:group.members})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Locked On:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(group.locked_at)})]}),group.is_accepted&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Accepted On:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(group.accepted_at)})]}),group.is_picked_up&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Picked Up On:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(group.picked_up_at)})]})]}),activeTab==='locked'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAcceptGroup(group),className:\"btn-primary w-full\",children:\"Accept Group\"}),activeTab==='accepted'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 p-3 rounded-md mb-3\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-yellow-800 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 mr-1\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\",clipRule:\"evenodd\"})}),\"Pickup is only allowed on Saturday or Sunday\"]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleGenerateOTP(group),className:\"btn-primary w-full\",children:\"Generate Pickup OTP\"})]}),activeTab==='completed'&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-50 p-3 rounded-md\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-green-800 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 mr-1\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\",clipRule:\"evenodd\"})}),\"Completed on \",formatDate(group.picked_up_at)]})})]})},group.id))})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12 bg-white rounded-lg shadow-md\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-500 mb-4\",children:[activeTab==='locked'&&'No locked groups or your own product groups waiting for acceptance.',activeTab==='accepted'&&'No accepted groups waiting for pickup.',activeTab==='completed'&&'No completed groups yet.']}),activeTab==='locked'&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Groups will appear here when:\",/*#__PURE__*/_jsx(\"br\",{}),\"1. They are your own product groups (regardless of size or value)\",/*#__PURE__*/_jsx(\"br\",{}),\"2. OR they reach \\u20B91000 total value\",/*#__PURE__*/_jsx(\"br\",{}),\"3. OR they have 10+ members\"]})]}),showAcceptModal&&selectedGroup&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 max-w-md w-full\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Accept Group Order\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-4 text-gray-600\",children:[\"Are you sure you want to accept this group order for \",selectedGroup.product.name,\"?\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 p-3 rounded-md mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Total Quantity:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[selectedGroup.total_quantity,\" \",selectedGroup.product.unit]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Total Amount:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[\"\\u20B9\",selectedGroup.total_price.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Number of Customers:\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedGroup.members})]})]})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"By accepting, you agree to prepare this order for customer pickup.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowAcceptModal(false),className:\"btn-secondary\",disabled:isAccepting,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:confirmAcceptGroup,className:\"btn-primary\",disabled:isAccepting,children:isAccepting?'Accepting...':'Accept Order'})]})]})}),showOTPModal&&selectedGroup&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 max-w-md w-full\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Pickup OTP\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-4 text-gray-600\",children:[\"Share this OTP with the customer when they arrive to pick up their order for \",selectedGroup.product.name,\".\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 p-6 rounded-md mb-4 text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold tracking-widest text-primary-600\",children:isGeneratingOTP?/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Generating...\"}):pickupOTP})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"This OTP is valid for this specific pickup only. The customer will need to enter this code to confirm pickup.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowOTPModal(false),className:\"btn-primary\",children:\"Close\"})})]})})]});};export default ViewGroups;","map":{"version":3,"names":["useEffect","useState","Link","toast","PageHeader","useAuth","groupAPI","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ViewGroups","_user$seller2","user","groups","setGroups","isLoading","setIsLoading","activeTab","setActiveTab","selectedGroup","setSelectedGroup","showAcceptModal","setShowAcceptModal","isAccepting","setIsAccepting","showOTPModal","setShowOTPModal","pickupOTP","setPickupOTP","isGeneratingOTP","setIsGeneratingOTP","console","log","fetchGroups","filteredGroups","filter","group","_group$product","isOwnProduct","id","product","seller_id","is_accepted","is_picked_up","locked_at","data","getMyGroups","error","errorMessage","detail","handleAcceptGroup","confirmAcceptGroup","acceptGroup","success","name","handleGenerateOTP","otp","Math","floor","random","toString","setTimeout","formatDate","dateString","date","Date","toLocaleDateString","year","month","day","_user$seller","_storedUser$seller","seller","paid_99","storedUser","JSON","parse","localStorage","getItem","className","children","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","to","title","subtitle","backButtonPath","onClick","length","fillRule","clipRule","map","members","total_price","price","unit","total_quantity","toFixed","accepted_at","picked_up_at","type","disabled"],"sources":["E:/market_sell/frontend/src/pages/seller/ViewGroups.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport PageHeader from '../../components/PageHeader';\nimport { useAuth } from '../../context/AuthContext';\nimport { groupAPI } from '../../services/api';\n\nconst ViewGroups = () => {\n  const { user } = useAuth();\n  const [groups, setGroups] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState('locked');\n  const [selectedGroup, setSelectedGroup] = useState(null);\n  const [showAcceptModal, setShowAcceptModal] = useState(false);\n  const [isAccepting, setIsAccepting] = useState(false);\n  const [showOTPModal, setShowOTPModal] = useState(false);\n  const [pickupOTP, setPickupOTP] = useState('');\n  const [isGeneratingOTP, setIsGeneratingOTP] = useState(false);\n\n  useEffect(() => {\n    console.log('ViewGroups component mounted');\n    console.log('Current user:', user);\n    fetchGroups();\n  }, []);\n  \n  // Define filteredGroups before using it in useEffect\n  const filteredGroups = groups.filter(group => {\n    // Check if the product belongs to the current seller\n    const isOwnProduct = user?.id && group.product?.seller_id === user.id;\n    \n    if (activeTab === 'locked') {\n      // For locked tab, show all seller's own products that are not accepted/picked up\n      // OR show locked groups from other sellers\n      return (isOwnProduct && !group.is_accepted && !group.is_picked_up) || \n             (group.locked_at && !group.is_accepted && !group.is_picked_up);\n    }\n    if (activeTab === 'accepted') return group.is_accepted && !group.is_picked_up;\n    if (activeTab === 'completed') return group.is_picked_up;\n    return true;\n  });\n  \n  // Add a useEffect to monitor groups state changes\n  useEffect(() => {\n    console.log('Groups state updated:', groups);\n    console.log('Active tab:', activeTab);\n    console.log('Filtered groups:', filteredGroups);\n  }, [groups, activeTab, filteredGroups]);\n\n  const fetchGroups = async () => {\n    setIsLoading(true);\n    try {\n      console.log('Fetching groups for seller...');\n      const data = await groupAPI.getMyGroups();\n      console.log('Groups data received:', data);\n      setGroups(data);\n    } catch (error) {\n      const errorMessage = error.detail || 'Failed to load groups';\n      toast.error(errorMessage);\n      console.error('Error fetching groups:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n const handleAcceptGroup = (group) => {\n    setSelectedGroup(group);\n    setShowAcceptModal(true);\n  };\n  const confirmAcceptGroup = async () => {\n    setIsAccepting(true);\n    try {\n      await groupAPI.acceptGroup(selectedGroup.id);\n      toast.success(`Group for ${selectedGroup.product.name} accepted successfully!`);\n      setShowAcceptModal(false);\n      fetchGroups(); // Refresh the list\n    } catch (error) {\n      toast.error(error.detail || 'Failed to accept group');\n    } finally {\n      setIsAccepting(false);\n    }\n  };\n\n  const handleGenerateOTP = (group) => {\n    setSelectedGroup(group);\n    setPickupOTP('');\n    setIsGeneratingOTP(true);\n    \n    // In a real app, this would call an API to generate OTP\n    // For demo, we'll generate a random 6-digit OTP\n    const otp = Math.floor(100000 + Math.random() * 900000).toString();\n    setTimeout(() => {\n      setPickupOTP(otp);\n      setIsGeneratingOTP(false);\n      setShowOTPModal(true);\n    }, 1000);\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'Not locked yet';\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-IN', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n    });\n  };\n\n  // Debug groups data\n  useEffect(() => {\n    console.log('ViewGroups - Groups data:', groups);\n    console.log('ViewGroups - Filtered groups:', filteredGroups);\n    console.log('ViewGroups - Active tab:', activeTab);\n  }, [groups, filteredGroups, activeTab]);\n\n  // Debug user state\n  useEffect(() => {\n    console.log('ViewGroups - Current user state:', user);\n    console.log('ViewGroups - Seller paid status:', user?.seller?.paid_99);\n    \n    // Check localStorage as well\n    const storedUser = JSON.parse(localStorage.getItem('user'));\n    console.log('ViewGroups - User from localStorage:', storedUser);\n    console.log('ViewGroups - Seller paid status from localStorage:', storedUser?.seller?.paid_99);\n  }, [user]);\n  \n  // If seller hasn't paid the fee, show access denied screen\n  if (!user?.seller?.paid_99) {\n    console.log('ViewGroups - Access denied: seller has not paid fee');\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"max-w-2xl mx-auto bg-white rounded-lg shadow-lg p-8 border border-gray-200 text-center\">\n          <div className=\"inline-block p-4 rounded-full bg-red-100 text-red-600 mb-6\">\n            <svg className=\"h-16 w-16\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 15v2m0 0v2m0-2h2m-2 0H9m3-4V8m-3 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n          </div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-4\">Access Denied</h1>\n          <p className=\"text-lg text-gray-600 mb-8 max-w-md mx-auto\">\n            You need to pay the seller onboarding fee of ₹99 to access group management features.\n          </p>\n          <Link \n            to=\"/seller/dashboard\" \n            className=\"inline-flex items-center justify-center px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg shadow-md hover:shadow-lg transition-all duration-200\"\n          >\n            <svg className=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z\" />\n            </svg>\n            Go to Dashboard & Pay Fee\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8 animate-fade-in\">\n      <PageHeader\n        title=\"Manage Groups\"\n        subtitle=\"View and manage your product groups\"\n        backButtonPath=\"/seller/dashboard\"\n      />\n\n      {/* Tabs */}\n      <div className=\"border-b border-gray-200 mb-6\">\n        <nav className=\"-mb-px flex space-x-8\">\n          <button\n            onClick={() => setActiveTab('locked')}\n            className={`pb-4 px-1 border-b-2 font-medium text-sm ${activeTab === 'locked' ? 'border-primary-500 text-primary-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`}\n          >\n            Locked Groups\n          </button>\n          <button\n            onClick={() => setActiveTab('accepted')}\n            className={`pb-4 px-1 border-b-2 font-medium text-sm ${activeTab === 'accepted' ? 'border-primary-500 text-primary-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`}\n          >\n            Accepted Groups\n          </button>\n          <button\n            onClick={() => setActiveTab('completed')}\n            className={`pb-4 px-1 border-b-2 font-medium text-sm ${activeTab === 'completed' ? 'border-primary-500 text-primary-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`}\n          >\n            Completed Groups\n          </button>\n        </nav>\n      </div>\n\n      {isLoading ? (\n        <div className=\"text-center py-12\">\n          <p className=\"text-gray-500\">Loading groups...</p>\n        </div>\n      ) : filteredGroups.length > 0 ? (\n        <>\n          <div className=\"bg-blue-50 p-4 rounded-lg mb-6\">\n            <p className=\"text-blue-800 text-sm\">\n              <span className=\"font-medium\">Note:</span> Groups are visible when they meet at least one of these criteria:\n              <br />1. <span className=\"font-medium\">The product belongs to you as a seller</span> (all your product groups are shown)\n              <br />2. The group has <span className=\"font-medium\">10 or more members</span>\n              <br />3. The total order value is <span className=\"font-medium\">₹1000 or more</span>\n            </p>\n          </div>\n          <div className=\"bg-yellow-50 p-3 rounded-md mb-6\">\n            <p className=\"text-sm text-yellow-800 flex items-center\">\n              <svg className=\"h-5 w-5 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n              </svg>\n              Groups can be accepted anytime, but distribution will only happen on Saturday or Sunday.\n            </p>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {filteredGroups.map((group) => (\n            <div key={group.id} className=\"bg-white rounded-lg shadow-md overflow-hidden\">\n              <div className=\"p-6\">\n                <div className=\"flex justify-between items-start mb-4\">\n                  <h2 className=\"text-lg font-semibold\">{group.product.name}</h2>\n                  <span className={`text-xs px-2 py-1 rounded-full ${group.is_picked_up ? 'bg-green-100 text-green-800' : group.is_accepted ? 'bg-blue-100 text-blue-800' : (group.members >= 10 || group.total_price >= 1000) ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'}`}>\n                    {group.is_picked_up ? 'Completed' : group.is_accepted ? 'Accepted' : (group.members >= 10 || group.total_price >= 1000) ? 'Unlocked' : 'Locked'}\n                  </span>\n                </div>\n\n                <div className=\"space-y-2 text-sm text-gray-600 mb-4\">\n                  <div className=\"flex justify-between\">\n                    <span>Price:</span>\n                    <span>₹{group.product.price} per {group.product.unit}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>Total Quantity:</span>\n                    <span>{group.total_quantity} {group.product.unit}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>Group Total:</span>\n                    <span className=\"font-medium\">₹{group.total_price.toFixed(2)}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>Members:</span>\n                    <span>{group.members}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>Locked On:</span>\n                    <span>{formatDate(group.locked_at)}</span>\n                  </div>\n                  {group.is_accepted && (\n                    <div className=\"flex justify-between\">\n                      <span>Accepted On:</span>\n                      <span>{formatDate(group.accepted_at)}</span>\n                    </div>\n                  )}\n                  {group.is_picked_up && (\n                    <div className=\"flex justify-between\">\n                      <span>Picked Up On:</span>\n                      <span>{formatDate(group.picked_up_at)}</span>\n                    </div>\n                  )}\n                </div>\n\n                {activeTab === 'locked' && (\n                  <button\n                    onClick={() => handleAcceptGroup(group)}\n                    className=\"btn-primary w-full\"\n                  >\n                    Accept Group\n                  </button>\n                )}\n\n                {activeTab === 'accepted' && (\n                  <>\n                    <div className=\"bg-yellow-50 p-3 rounded-md mb-3\">\n                      <p className=\"text-sm text-yellow-800 flex items-center\">\n                        <svg className=\"h-5 w-5 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                          <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                        </svg>\n                        Pickup is only allowed on Saturday or Sunday\n                      </p>\n                    </div>\n                    <button\n                      onClick={() => handleGenerateOTP(group)}\n                      className=\"btn-primary w-full\"\n                    >\n                      Generate Pickup OTP\n                    </button>\n                  </>\n                )}\n\n                {activeTab === 'completed' && (\n                  <div className=\"bg-green-50 p-3 rounded-md\">\n                    <p className=\"text-sm text-green-800 flex items-center\">\n                      <svg className=\"h-5 w-5 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                        <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                      </svg>\n                      Completed on {formatDate(group.picked_up_at)}\n                    </p>\n                  </div>\n                )}\n              </div>\n            </div>\n          ))}\n          </div>\n         </>\n      ) : (\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-md\">\n          <p className=\"text-gray-500 mb-4\">\n            {activeTab === 'locked' && 'No locked groups or your own product groups waiting for acceptance.'}\n            {activeTab === 'accepted' && 'No accepted groups waiting for pickup.'}\n            {activeTab === 'completed' && 'No completed groups yet.'}\n          </p>\n          {activeTab === 'locked' && (\n            <p className=\"text-sm text-gray-600\">\n              Groups will appear here when:<br/>\n              1. They are your own product groups (regardless of size or value)<br/>\n              2. OR they reach ₹1000 total value<br/>\n              3. OR they have 10+ members\n            </p>\n          )}\n        </div>\n      )}\n\n      {/* Accept Group Modal */}\n      {showAcceptModal && selectedGroup && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full\">\n            <h2 className=\"text-xl font-bold mb-4\">Accept Group Order</h2>\n            <p className=\"mb-4 text-gray-600\">\n              Are you sure you want to accept this group order for {selectedGroup.product.name}?\n            </p>\n            <div className=\"bg-gray-50 p-3 rounded-md mb-4\">\n              <div className=\"space-y-2 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Total Quantity:</span>\n                  <span>{selectedGroup.total_quantity} {selectedGroup.product.unit}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Total Amount:</span>\n                  <span className=\"font-medium\">₹{selectedGroup.total_price.toFixed(2)}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Number of Customers:</span>\n                  <span>{selectedGroup.members}</span>\n                </div>\n              </div>\n            </div>\n            <p className=\"text-sm text-gray-600 mb-4\">\n              By accepting, you agree to prepare this order for customer pickup.\n            </p>\n            <div className=\"flex justify-end space-x-3\">\n              <button\n                type=\"button\"\n                onClick={() => setShowAcceptModal(false)}\n                className=\"btn-secondary\"\n                disabled={isAccepting}\n              >\n                Cancel\n              </button>\n              <button\n                type=\"button\"\n                onClick={confirmAcceptGroup}\n                className=\"btn-primary\"\n                disabled={isAccepting}\n              >\n                {isAccepting ? 'Accepting...' : 'Accept Order'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* OTP Modal */}\n      {showOTPModal && selectedGroup && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full\">\n            <h2 className=\"text-xl font-bold mb-4\">Pickup OTP</h2>\n            <p className=\"mb-4 text-gray-600\">\n              Share this OTP with the customer when they arrive to pick up their order for {selectedGroup.product.name}.\n            </p>\n            <div className=\"bg-gray-50 p-6 rounded-md mb-4 text-center\">\n              <p className=\"text-3xl font-bold tracking-widest text-primary-600\">\n                {isGeneratingOTP ? (\n                  <span className=\"text-gray-400\">Generating...</span>\n                ) : (\n                  pickupOTP\n                )}\n              </p>\n            </div>\n            <p className=\"text-sm text-gray-600 mb-4\">\n              This OTP is valid for this specific pickup only. The customer will need to enter this code to confirm pickup.\n            </p>\n            <div className=\"flex justify-end\">\n              <button\n                type=\"button\"\n                onClick={() => setShowOTPModal(false)}\n                className=\"btn-primary\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ViewGroups;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}