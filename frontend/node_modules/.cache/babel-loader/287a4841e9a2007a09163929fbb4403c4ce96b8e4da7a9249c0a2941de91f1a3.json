{"ast":null,"code":"var _jsxFileName = \"E:\\\\market_sell\\\\frontend\\\\src\\\\context\\\\AuthContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useContext, useEffect, useState } from 'react';\nimport axios from '../services/axiosConfig';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext();\nexport const useAuth = () => {\n  _s();\n  return useContext(AuthContext);\n};\n_s(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const AuthProvider = ({\n  children\n}) => {\n  _s2();\n  const [user, setUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [tempEmail, setTempEmail] = useState('');\n  const fetchUserProfile = async () => {\n    try {\n      const response = await axios.get('/api/auth/profile');\n      // Update local storage with the latest profile data\n      const currentUser = JSON.parse(localStorage.getItem('user') || '{}');\n      const updatedUser = {\n        ...currentUser,\n        ...response.data\n      };\n      localStorage.setItem('user', JSON.stringify(updatedUser));\n      // Update state\n      setUser(updatedUser);\n      return response.data;\n    } catch (error) {\n      var _error$response;\n      throw ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || {\n        detail: 'An error occurred while fetching user profile'\n      };\n    }\n  };\n  useEffect(() => {\n    // Check if user is already logged in\n    const token = localStorage.getItem('token');\n    const userData = localStorage.getItem('user');\n    if (token && userData) {\n      const parsedUserData = JSON.parse(userData);\n      setUser(parsedUserData);\n      setIsAuthenticated(true);\n\n      // Fetch complete user profile if we have a token\n      if (parsedUserData && parsedUserData.id) {\n        fetchUserProfile().catch(error => {\n          console.error('Failed to fetch user profile:', error);\n          // If profile fetch fails, still use cached data\n          setUser(parsedUserData);\n        });\n      }\n\n      // Token is handled by axios interceptors in axiosConfig.js\n    }\n    setLoading(false);\n  }, []);\n  const login = async (email, password) => {\n    try {\n      const response = await axios.post('/api/auth/login', {\n        email,\n        password\n      });\n      setTempEmail(email);\n      return response.data;\n    } catch (error) {\n      var _error$response2;\n      throw ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || {\n        detail: 'An error occurred during login'\n      };\n    }\n  };\n  const register = async (name, email, password, confirmPassword, role) => {\n    try {\n      const response = await axios.post('/api/auth/register', {\n        name,\n        email,\n        password,\n        confirm_password: confirmPassword,\n        role\n      });\n      setTempEmail(email);\n      return response.data;\n    } catch (error) {\n      var _error$response3;\n      throw ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data) || {\n        detail: 'An error occurred during registration'\n      };\n    }\n  };\n  const resendOTP = async email => {\n    try {\n      const response = await axios.post('/api/auth/resend-otp', {\n        email\n      });\n      return response.data;\n    } catch (error) {\n      var _error$response4;\n      throw ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.data) || {\n        detail: 'An error occurred while resending OTP'\n      };\n    }\n  };\n  const verifyOTP = async (email, otp_code) => {\n    try {\n      const response = await axios.post('/api/auth/verify-otp', {\n        email,\n        otp_code\n      });\n      const {\n        access_token,\n        user_id,\n        role\n      } = response.data;\n\n      // Save token and user data\n      localStorage.setItem('token', access_token);\n      const userData = {\n        id: user_id,\n        email,\n        role\n      };\n      localStorage.setItem('user', JSON.stringify(userData));\n\n      // Set user in state\n      setUser(userData);\n      setIsAuthenticated(true);\n\n      // Token is handled by axios interceptors in axiosConfig.js\n\n      // Fetch complete user profile after successful login\n      try {\n        const profileData = await fetchUserProfile();\n        const updatedUserData = {\n          ...userData,\n          ...profileData\n        };\n        setUser(updatedUserData);\n        localStorage.setItem('user', JSON.stringify(updatedUserData));\n      } catch (profileError) {\n        console.error('Failed to fetch user profile:', profileError);\n      }\n      return response.data;\n    } catch (error) {\n      var _error$response5;\n      throw ((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.data) || {\n        detail: 'An error occurred during OTP verification'\n      };\n    }\n  };\n  const logout = () => {\n    // Remove token and user data\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n\n    // Reset state\n    setUser(null);\n    setIsAuthenticated(false);\n\n    // Token removal is handled by axios interceptors in axiosConfig.js\n  };\n  const registerSeller = async sellerData => {\n    try {\n      const response = await axios.post(`/api/auth/register-seller?user_id=${user.id}`, sellerData);\n      return response.data;\n    } catch (error) {\n      var _error$response6;\n      throw ((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.data) || {\n        detail: 'An error occurred during seller registration'\n      };\n    }\n  };\n  const paySellerFee = async () => {\n    try {\n      const response = await axios.post(`/api/auth/pay-seller-fee/${user.id}`);\n      console.log('Payment successful, updating user data...');\n      console.log('Current user state:', user);\n\n      // Always fetch the complete profile after payment to ensure we have the latest data\n      try {\n        const profileData = await fetchUserProfile();\n        console.log('Fetched profile data:', profileData);\n\n        // Create updated user with paid_99 set to true\n        const updatedUserData = {\n          ...user,\n          ...profileData,\n          seller: {\n            ...(profileData.seller || {}),\n            paid_99: true\n          }\n        };\n        console.log('Updated user data:', updatedUserData);\n\n        // Update state and localStorage\n        setUser(updatedUserData);\n        localStorage.setItem('user', JSON.stringify(updatedUserData));\n      } catch (profileError) {\n        console.error('Failed to fetch updated user profile:', profileError);\n\n        // Fallback: Update existing user data if profile fetch fails\n        if (user && user.seller) {\n          const updatedSeller = {\n            ...user.seller,\n            paid_99: true\n          };\n          const updatedUser = {\n            ...user,\n            seller: updatedSeller\n          };\n          setUser(updatedUser);\n          localStorage.setItem('user', JSON.stringify(updatedUser));\n        }\n      }\n      return response.data;\n    } catch (error) {\n      var _error$response7;\n      throw ((_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : _error$response7.data) || {\n        detail: 'An error occurred during payment'\n      };\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      user,\n      isAuthenticated,\n      loading,\n      tempEmail,\n      login,\n      register,\n      verifyOTP,\n      resendOTP,\n      logout,\n      registerSeller,\n      paySellerFee,\n      fetchUserProfile,\n      setTempEmail\n    },\n    children: !loading && children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 183,\n    columnNumber: 5\n  }, this);\n};\n_s2(AuthProvider, \"4dHh2xOappcr4Pwr3FUHs6mMoN0=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["createContext","useContext","useEffect","useState","axios","jsxDEV","_jsxDEV","AuthContext","useAuth","_s","AuthProvider","children","_s2","user","setUser","isAuthenticated","setIsAuthenticated","loading","setLoading","tempEmail","setTempEmail","fetchUserProfile","response","get","currentUser","JSON","parse","localStorage","getItem","updatedUser","data","setItem","stringify","error","_error$response","detail","token","userData","parsedUserData","id","catch","console","login","email","password","post","_error$response2","register","name","confirmPassword","role","confirm_password","_error$response3","resendOTP","_error$response4","verifyOTP","otp_code","access_token","user_id","profileData","updatedUserData","profileError","_error$response5","logout","removeItem","registerSeller","sellerData","_error$response6","paySellerFee","log","seller","paid_99","updatedSeller","_error$response7","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/market_sell/frontend/src/context/AuthContext.js"],"sourcesContent":["import { createContext, useContext, useEffect, useState } from 'react';\nimport axios from '../services/axiosConfig';\n\nconst AuthContext = createContext();\n\nexport const useAuth = () => useContext(AuthContext);\n\nexport const AuthProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [tempEmail, setTempEmail] = useState('');\n  \n  const fetchUserProfile = async () => {\n    try {\n      const response = await axios.get('/api/auth/profile');\n      // Update local storage with the latest profile data\n      const currentUser = JSON.parse(localStorage.getItem('user') || '{}');\n      const updatedUser = { ...currentUser, ...response.data };\n      localStorage.setItem('user', JSON.stringify(updatedUser));\n      // Update state\n      setUser(updatedUser);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || { detail: 'An error occurred while fetching user profile' };\n    }\n  };\n  \n  useEffect(() => {\n    // Check if user is already logged in\n    const token = localStorage.getItem('token');\n    const userData = localStorage.getItem('user');\n    \n    if (token && userData) {\n      const parsedUserData = JSON.parse(userData);\n      setUser(parsedUserData);\n      setIsAuthenticated(true);\n      \n      // Fetch complete user profile if we have a token\n      if (parsedUserData && parsedUserData.id) {\n        fetchUserProfile()\n          .catch(error => {\n            console.error('Failed to fetch user profile:', error);\n            // If profile fetch fails, still use cached data\n            setUser(parsedUserData);\n          });\n      }\n      \n      // Token is handled by axios interceptors in axiosConfig.js\n    }\n    \n    setLoading(false);\n  }, []);\n  \n  const login = async (email, password) => {\n    try {\n      const response = await axios.post('/api/auth/login', { email, password });\n      setTempEmail(email);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || { detail: 'An error occurred during login' };\n    }\n  };\n  \n  const register = async (name, email, password, confirmPassword, role) => {\n    try {\n      const response = await axios.post('/api/auth/register', { name, email, password, confirm_password: confirmPassword, role });\n      setTempEmail(email);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || { detail: 'An error occurred during registration' };\n    }\n  };\n  \n  const resendOTP = async (email) => {\n    try {\n      const response = await axios.post('/api/auth/resend-otp', { email });\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || { detail: 'An error occurred while resending OTP' };\n    }\n  };\n\n  const verifyOTP = async (email, otp_code) => {\n    try {\n      const response = await axios.post('/api/auth/verify-otp', { email, otp_code });\n      const { access_token, user_id, role } = response.data;\n      \n      // Save token and user data\n      localStorage.setItem('token', access_token);\n      const userData = { id: user_id, email, role };\n      localStorage.setItem('user', JSON.stringify(userData));\n      \n      // Set user in state\n      setUser(userData);\n      setIsAuthenticated(true);\n      \n      // Token is handled by axios interceptors in axiosConfig.js\n      \n      // Fetch complete user profile after successful login\n      try {\n        const profileData = await fetchUserProfile();\n        const updatedUserData = { ...userData, ...profileData };\n        setUser(updatedUserData);\n        localStorage.setItem('user', JSON.stringify(updatedUserData));\n      } catch (profileError) {\n        console.error('Failed to fetch user profile:', profileError);\n      }\n      \n      return response.data;\n    } catch (error) {\n      throw error.response?.data || { detail: 'An error occurred during OTP verification' };\n    }\n  };\n  \n  const logout = () => {\n    // Remove token and user data\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    \n    // Reset state\n    setUser(null);\n    setIsAuthenticated(false);\n    \n    // Token removal is handled by axios interceptors in axiosConfig.js\n  };\n  \n  const registerSeller = async (sellerData) => {\n    try {\n      const response = await axios.post(`/api/auth/register-seller?user_id=${user.id}`, sellerData);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || { detail: 'An error occurred during seller registration' };\n    }\n  };\n  \n  const paySellerFee = async () => {\n    try {\n      const response = await axios.post(`/api/auth/pay-seller-fee/${user.id}`);\n      \n      console.log('Payment successful, updating user data...');\n      console.log('Current user state:', user);\n      \n      // Always fetch the complete profile after payment to ensure we have the latest data\n      try {\n        const profileData = await fetchUserProfile();\n        console.log('Fetched profile data:', profileData);\n        \n        // Create updated user with paid_99 set to true\n        const updatedUserData = { \n          ...user, \n          ...profileData,\n          seller: {\n            ...(profileData.seller || {}),\n            paid_99: true\n          }\n        };\n        \n        console.log('Updated user data:', updatedUserData);\n        \n        // Update state and localStorage\n        setUser(updatedUserData);\n        localStorage.setItem('user', JSON.stringify(updatedUserData));\n      } catch (profileError) {\n        console.error('Failed to fetch updated user profile:', profileError);\n        \n        // Fallback: Update existing user data if profile fetch fails\n        if (user && user.seller) {\n          const updatedSeller = { ...user.seller, paid_99: true };\n          const updatedUser = { ...user, seller: updatedSeller };\n          setUser(updatedUser);\n          localStorage.setItem('user', JSON.stringify(updatedUser));\n        }\n      }\n      \n      return response.data;\n    } catch (error) {\n      throw error.response?.data || { detail: 'An error occurred during payment' };\n    }\n  };\n  \n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        isAuthenticated,\n        loading,\n        tempEmail,\n        login,\n        register,\n        verifyOTP,\n        resendOTP,\n        logout,\n        registerSeller,\n        paySellerFee,\n        fetchUserProfile,\n        setTempEmail\n      }}\n    >\n      {!loading && children}\n    </AuthContext.Provider>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}