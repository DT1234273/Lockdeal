{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAuth}from'../../context/AuthContext';import PageHeader from'../../components/PageHeader';import AddressModal from'../../components/AddressModal';import{toast}from'react-toastify';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CustomerProfile=()=>{const{user,customerAddress:savedAddress}=useAuth();const[showAddressModal,setShowAddressModal]=useState(false);const[customerAddress,setCustomerAddress]=useState(null);const[customerPhone,setCustomerPhone]=useState(null);// Load address from context if available\nuseEffect(()=>{if(savedAddress){setCustomerAddress(savedAddress.address);setCustomerPhone(savedAddress.phone);}},[savedAddress]);const handleAddressSuccess=data=>{setCustomerAddress(data.address);setCustomerPhone(data.phone);setShowAddressModal(false);toast.success('Address saved successfully!');};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsx(PageHeader,{title:\"My Profile\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"Personal Information\"}),/*#__PURE__*/_jsx(\"button\",{className:\"text-primary-600 hover:text-primary-800 text-sm font-medium\",onClick:()=>{},children:\"Edit\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-1\",children:\"Name\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:(user===null||user===void 0?void 0:user.name)||'Not provided'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-1\",children:\"Email\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:(user===null||user===void 0?void 0:user.email)||'Not provided'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"Delivery Address\"}),/*#__PURE__*/_jsx(\"button\",{className:\"text-primary-600 hover:text-primary-800 text-sm font-medium\",onClick:()=>setShowAddressModal(true),children:customerAddress?'Update':'Add'})]}),customerAddress?/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-1\",children:\"Address\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:customerAddress})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-1\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:customerPhone})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No delivery address added yet\"}),/*#__PURE__*/_jsx(\"button\",{className:\"mt-2 text-primary-600 hover:text-primary-800 text-sm font-medium\",onClick:()=>setShowAddressModal(true),children:\"Add Address\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center mb-4\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"Account Settings\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"w-full text-left py-3 px-4 rounded-lg hover:bg-gray-50 flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Change Password\"}),/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 text-gray-400\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 5l7 7-7 7\"})})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"w-full text-left py-3 px-4 rounded-lg hover:bg-gray-50 flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Notification Preferences\"}),/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 text-gray-400\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 5l7 7-7 7\"})})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"w-full text-left py-3 px-4 rounded-lg hover:bg-gray-50 flex justify-between items-center text-red-600 hover:text-red-800\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Delete Account\"}),/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"})})]})]})]}),/*#__PURE__*/_jsx(AddressModal,{isOpen:showAddressModal,onClose:()=>setShowAddressModal(false),onSuccess:handleAddressSuccess,initialAddress:(savedAddress===null||savedAddress===void 0?void 0:savedAddress.address)||customerAddress,initialPhone:(savedAddress===null||savedAddress===void 0?void 0:savedAddress.phone)||customerPhone})]});};export default CustomerProfile;","map":{"version":3,"names":["React","useState","useEffect","useAuth","PageHeader","AddressModal","toast","jsx","_jsx","jsxs","_jsxs","CustomerProfile","user","customerAddress","savedAddress","showAddressModal","setShowAddressModal","setCustomerAddress","customerPhone","setCustomerPhone","address","phone","handleAddressSuccess","data","success","className","children","title","onClick","name","email","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","isOpen","onClose","onSuccess","initialAddress","initialPhone"],"sources":["E:/market_sell/frontend/src/pages/customer/CustomerProfile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport PageHeader from '../../components/PageHeader';\nimport AddressModal from '../../components/AddressModal';\nimport { toast } from 'react-toastify';\n\nconst CustomerProfile = () => {\n  const { user, customerAddress: savedAddress } = useAuth();\n  const [showAddressModal, setShowAddressModal] = useState(false);\n  const [customerAddress, setCustomerAddress] = useState(null);\n  const [customerPhone, setCustomerPhone] = useState(null);\n  \n  // Load address from context if available\n  useEffect(() => {\n    if (savedAddress) {\n      setCustomerAddress(savedAddress.address);\n      setCustomerPhone(savedAddress.phone);\n    }\n  }, [savedAddress]);\n\n  const handleAddressSuccess = (data) => {\n    setCustomerAddress(data.address);\n    setCustomerPhone(data.phone);\n    setShowAddressModal(false);\n    toast.success('Address saved successfully!');\n  };\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <PageHeader title=\"My Profile\" />\n      \n      <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h2 className=\"text-xl font-semibold\">Personal Information</h2>\n          <button \n            className=\"text-primary-600 hover:text-primary-800 text-sm font-medium\"\n            onClick={() => {}}\n          >\n            Edit\n          </button>\n        </div>\n        \n        <div className=\"grid md:grid-cols-2 gap-6\">\n          <div>\n            <p className=\"text-sm text-gray-500 mb-1\">Name</p>\n            <p className=\"font-medium\">{user?.name || 'Not provided'}</p>\n          </div>\n          <div>\n            <p className=\"text-sm text-gray-500 mb-1\">Email</p>\n            <p className=\"font-medium\">{user?.email || 'Not provided'}</p>\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h2 className=\"text-xl font-semibold\">Delivery Address</h2>\n          <button \n            className=\"text-primary-600 hover:text-primary-800 text-sm font-medium\"\n            onClick={() => setShowAddressModal(true)}\n          >\n            {customerAddress ? 'Update' : 'Add'}\n          </button>\n        </div>\n        \n        {customerAddress ? (\n          <div className=\"grid md:grid-cols-2 gap-6\">\n            <div>\n              <p className=\"text-sm text-gray-500 mb-1\">Address</p>\n              <p className=\"font-medium\">{customerAddress}</p>\n            </div>\n            <div>\n              <p className=\"text-sm text-gray-500 mb-1\">Phone</p>\n              <p className=\"font-medium\">{customerPhone}</p>\n            </div>\n          </div>\n        ) : (\n          <div className=\"bg-gray-50 rounded-lg p-4 text-center\">\n            <p className=\"text-gray-500\">No delivery address added yet</p>\n            <button \n              className=\"mt-2 text-primary-600 hover:text-primary-800 text-sm font-medium\"\n              onClick={() => setShowAddressModal(true)}\n            >\n              Add Address\n            </button>\n          </div>\n        )}\n      </div>\n      \n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h2 className=\"text-xl font-semibold\">Account Settings</h2>\n        </div>\n        \n        <div className=\"space-y-4\">\n          <button className=\"w-full text-left py-3 px-4 rounded-lg hover:bg-gray-50 flex justify-between items-center\">\n            <span className=\"font-medium\">Change Password</span>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n            </svg>\n          </button>\n          \n          <button className=\"w-full text-left py-3 px-4 rounded-lg hover:bg-gray-50 flex justify-between items-center\">\n            <span className=\"font-medium\">Notification Preferences</span>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n            </svg>\n          </button>\n          \n          <button className=\"w-full text-left py-3 px-4 rounded-lg hover:bg-gray-50 flex justify-between items-center text-red-600 hover:text-red-800\">\n            <span className=\"font-medium\">Delete Account</span>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n      \n      {/* Address Modal */}\n      <AddressModal \n        isOpen={showAddressModal}\n        onClose={() => setShowAddressModal(false)}\n        onSuccess={handleAddressSuccess}\n        initialAddress={savedAddress?.address || customerAddress}\n        initialPhone={savedAddress?.phone || customerPhone}\n      />\n    </div>\n  );\n};\n\nexport default CustomerProfile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}