{"ast":null,"code":"var _jsxFileName = \"E:\\\\market_sell\\\\frontend\\\\src\\\\context\\\\AuthContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useContext, useEffect, useState } from 'react';\nimport axios from '../services/axiosConfig';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext();\nexport const useAuth = () => {\n  _s();\n  return useContext(AuthContext);\n};\n_s(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const AuthProvider = ({\n  children\n}) => {\n  _s2();\n  const [user, setUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [tempEmail, setTempEmail] = useState('');\n  const fetchUserProfile = async () => {\n    try {\n      const response = await axios.get('/api/auth/profile');\n      return response.data;\n    } catch (error) {\n      var _error$response;\n      throw ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || {\n        detail: 'An error occurred while fetching user profile'\n      };\n    }\n  };\n  useEffect(() => {\n    // Check if user is already logged in\n    const token = localStorage.getItem('token');\n    const userData = localStorage.getItem('user');\n    if (token && userData) {\n      const parsedUserData = JSON.parse(userData);\n      setUser(parsedUserData);\n      setIsAuthenticated(true);\n\n      // Fetch complete user profile if we have a token\n      if (parsedUserData && parsedUserData.id) {\n        fetchUserProfile().then(profileData => {\n          // Update user data with complete profile\n          const updatedUserData = {\n            ...parsedUserData,\n            ...profileData\n          };\n          setUser(updatedUserData);\n          localStorage.setItem('user', JSON.stringify(updatedUserData));\n        }).catch(error => {\n          console.error('Failed to fetch user profile:', error);\n        });\n      }\n\n      // Token is handled by axios interceptors in axiosConfig.js\n    }\n    setLoading(false);\n  }, []);\n  const login = async (email, password) => {\n    try {\n      const response = await axios.post('/api/auth/login', {\n        email,\n        password\n      });\n      setTempEmail(email);\n      return response.data;\n    } catch (error) {\n      var _error$response2;\n      throw ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || {\n        detail: 'An error occurred during login'\n      };\n    }\n  };\n  const register = async (name, email, password, confirmPassword, role) => {\n    try {\n      const response = await axios.post('/api/auth/register', {\n        name,\n        email,\n        password,\n        confirm_password: confirmPassword,\n        role\n      });\n      setTempEmail(email);\n      return response.data;\n    } catch (error) {\n      var _error$response3;\n      throw ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data) || {\n        detail: 'An error occurred during registration'\n      };\n    }\n  };\n  const resendOTP = async email => {\n    try {\n      const response = await axios.post('/api/auth/resend-otp', {\n        email\n      });\n      return response.data;\n    } catch (error) {\n      var _error$response4;\n      throw ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.data) || {\n        detail: 'An error occurred while resending OTP'\n      };\n    }\n  };\n  const verifyOTP = async (email, otp_code) => {\n    try {\n      const response = await axios.post('/api/auth/verify-otp', {\n        email,\n        otp_code\n      });\n      const {\n        access_token,\n        user_id,\n        role\n      } = response.data;\n\n      // Save token and user data\n      localStorage.setItem('token', access_token);\n      const userData = {\n        id: user_id,\n        email,\n        role\n      };\n      localStorage.setItem('user', JSON.stringify(userData));\n\n      // Set user in state\n      setUser(userData);\n      setIsAuthenticated(true);\n\n      // Token is handled by axios interceptors in axiosConfig.js\n\n      // Fetch complete user profile after successful login\n      try {\n        const profileData = await fetchUserProfile();\n        const updatedUserData = {\n          ...userData,\n          ...profileData\n        };\n        setUser(updatedUserData);\n        localStorage.setItem('user', JSON.stringify(updatedUserData));\n\n        // If user is a seller, create seller profile if it doesn't exist\n        if (role === 'seller' && !profileData.seller) {\n          console.log('Creating seller profile for user:', user_id);\n          try {\n            // Default seller data\n            const defaultSellerData = {\n              shop_name: profileData.name + \"'s Shop\",\n              address: \"\",\n              contact: \"\"\n            };\n\n            // Register seller profile\n            await registerSeller(defaultSellerData);\n\n            // Fetch updated profile after seller registration\n            const updatedProfileData = await fetchUserProfile();\n            const finalUserData = {\n              ...updatedUserData,\n              ...updatedProfileData\n            };\n            setUser(finalUserData);\n            localStorage.setItem('user', JSON.stringify(finalUserData));\n          } catch (sellerError) {\n            console.error('Failed to create seller profile:', sellerError);\n          }\n        }\n      } catch (profileError) {\n        console.error('Failed to fetch user profile:', profileError);\n      }\n      return response.data;\n    } catch (error) {\n      var _error$response5;\n      throw ((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.data) || {\n        detail: 'An error occurred during OTP verification'\n      };\n    }\n  };\n  const logout = () => {\n    // Remove token and user data\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n\n    // Reset state\n    setUser(null);\n    setIsAuthenticated(false);\n\n    // Token removal is handled by axios interceptors in axiosConfig.js\n  };\n  const registerSeller = async sellerData => {\n    try {\n      console.log('Registering seller with data:', sellerData);\n      console.log('User ID:', user.id);\n      const response = await axios.post(`/api/auth/register-seller?user_id=${user.id}`, sellerData);\n      console.log('Seller registration response:', response.data);\n      return response.data;\n    } catch (error) {\n      var _error$response6;\n      console.error('Seller registration error:', error);\n      throw ((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.data) || {\n        detail: 'An error occurred during seller registration'\n      };\n    }\n  };\n  const updateSellerAddress = async address => {\n    try {\n      console.log('Updating seller address for user ID:', user.id);\n      const response = await axios.put('/api/auth/update-seller-profile', {\n        address\n      });\n      console.log('Address update successful, updating user data...');\n      console.log('Update response:', response.data);\n\n      // Fetch the complete profile after update to ensure we have the latest data\n      try {\n        const profileData = await fetchUserProfile();\n        console.log('Fetched profile data after address update:', profileData);\n\n        // Create updated user with new address\n        const updatedUserData = {\n          ...user,\n          ...profileData\n        };\n        console.log('Updated user data:', updatedUserData);\n\n        // Update state and localStorage\n        setUser(updatedUserData);\n        localStorage.setItem('user', JSON.stringify(updatedUserData));\n        return response.data;\n      } catch (profileError) {\n        console.error('Failed to fetch updated user profile:', profileError);\n        return response.data;\n      }\n    } catch (error) {\n      var _error$response7;\n      console.error('Address update error:', error);\n      throw ((_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : _error$response7.data) || {\n        detail: 'An error occurred while updating seller address'\n      };\n    }\n  };\n  const paySellerFee = async () => {\n    try {\n      console.log('Processing payment for user ID:', user.id);\n      const response = await axios.post(`/api/auth/pay-seller-fee/${user.id}`);\n      console.log('Payment successful, updating user data...');\n      console.log('Payment response:', response.data);\n      console.log('Current user state:', user);\n\n      // Use the seller data from the response if available\n      const sellerFromResponse = response.data.seller;\n\n      // Always fetch the complete profile after payment to ensure we have the latest data\n      try {\n        const profileData = await fetchUserProfile();\n        console.log('Fetched profile data:', profileData);\n\n        // Create updated user with paid_99 set to true\n        const updatedUserData = {\n          ...user,\n          ...profileData,\n          seller: {\n            ...(profileData.seller || {}),\n            paid_99: true\n          }\n        };\n        console.log('Updated user data:', updatedUserData);\n\n        // Update state and localStorage\n        setUser(updatedUserData);\n        localStorage.setItem('user', JSON.stringify(updatedUserData));\n      } catch (profileError) {\n        console.error('Failed to fetch updated user profile:', profileError);\n\n        // Fallback: Use seller data from response if available\n        if (sellerFromResponse && sellerFromResponse.paid_99) {\n          console.log('Using seller data from response as fallback');\n          const updatedSeller = {\n            ...user.seller,\n            paid_99: sellerFromResponse.paid_99\n          };\n          const updatedUser = {\n            ...user,\n            seller: updatedSeller\n          };\n          setUser(updatedUser);\n          localStorage.setItem('user', JSON.stringify(updatedUser));\n        } else {\n          // Last resort fallback\n          console.log('Using hardcoded fallback for seller data');\n          const updatedSeller = {\n            ...user.seller,\n            paid_99: true\n          };\n          const updatedUser = {\n            ...user,\n            seller: updatedSeller\n          };\n          setUser(updatedUser);\n          localStorage.setItem('user', JSON.stringify(updatedUser));\n        }\n      }\n      return response.data;\n    } catch (error) {\n      var _error$response8;\n      console.error('Payment error:', error);\n      throw ((_error$response8 = error.response) === null || _error$response8 === void 0 ? void 0 : _error$response8.data) || {\n        detail: 'An error occurred during payment. Please try again.'\n      };\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      user,\n      isAuthenticated,\n      loading,\n      tempEmail,\n      login,\n      register,\n      verifyOTP,\n      resendOTP,\n      logout,\n      registerSeller,\n      paySellerFee,\n      fetchUserProfile,\n      updateSellerAddress\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 259,\n    columnNumber: 5\n  }, this);\n};\n_s2(AuthProvider, \"4dHh2xOappcr4Pwr3FUHs6mMoN0=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["createContext","useContext","useEffect","useState","axios","jsxDEV","_jsxDEV","AuthContext","useAuth","_s","AuthProvider","children","_s2","user","setUser","isAuthenticated","setIsAuthenticated","loading","setLoading","tempEmail","setTempEmail","fetchUserProfile","response","get","data","error","_error$response","detail","token","localStorage","getItem","userData","parsedUserData","JSON","parse","id","then","profileData","updatedUserData","setItem","stringify","catch","console","login","email","password","post","_error$response2","register","name","confirmPassword","role","confirm_password","_error$response3","resendOTP","_error$response4","verifyOTP","otp_code","access_token","user_id","seller","log","defaultSellerData","shop_name","address","contact","registerSeller","updatedProfileData","finalUserData","sellerError","profileError","_error$response5","logout","removeItem","sellerData","_error$response6","updateSellerAddress","put","_error$response7","paySellerFee","sellerFromResponse","paid_99","updatedSeller","updatedUser","_error$response8","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/market_sell/frontend/src/context/AuthContext.js"],"sourcesContent":["import { createContext, useContext, useEffect, useState } from 'react';\nimport axios from '../services/axiosConfig';\n\nconst AuthContext = createContext();\n\nexport const useAuth = () => useContext(AuthContext);\n\nexport const AuthProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [tempEmail, setTempEmail] = useState('');\n  \n  const fetchUserProfile = async () => {\n    try {\n      const response = await axios.get('/api/auth/profile');\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || { detail: 'An error occurred while fetching user profile' };\n    }\n  };\n  \n  useEffect(() => {\n    // Check if user is already logged in\n    const token = localStorage.getItem('token');\n    const userData = localStorage.getItem('user');\n    \n    if (token && userData) {\n      const parsedUserData = JSON.parse(userData);\n      setUser(parsedUserData);\n      setIsAuthenticated(true);\n      \n      // Fetch complete user profile if we have a token\n      if (parsedUserData && parsedUserData.id) {\n        fetchUserProfile()\n          .then(profileData => {\n            // Update user data with complete profile\n            const updatedUserData = { ...parsedUserData, ...profileData };\n            setUser(updatedUserData);\n            localStorage.setItem('user', JSON.stringify(updatedUserData));\n          })\n          .catch(error => {\n            console.error('Failed to fetch user profile:', error);\n          });\n      }\n      \n      // Token is handled by axios interceptors in axiosConfig.js\n    }\n    \n    setLoading(false);\n  }, []);\n  \n  const login = async (email, password) => {\n    try {\n      const response = await axios.post('/api/auth/login', { email, password });\n      setTempEmail(email);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || { detail: 'An error occurred during login' };\n    }\n  };\n  \n  const register = async (name, email, password, confirmPassword, role) => {\n    try {\n      const response = await axios.post('/api/auth/register', { name, email, password, confirm_password: confirmPassword, role });\n      setTempEmail(email);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || { detail: 'An error occurred during registration' };\n    }\n  };\n  \n  const resendOTP = async (email) => {\n    try {\n      const response = await axios.post('/api/auth/resend-otp', { email });\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || { detail: 'An error occurred while resending OTP' };\n    }\n  };\n\n  const verifyOTP = async (email, otp_code) => {\n    try {\n      const response = await axios.post('/api/auth/verify-otp', { email, otp_code });\n      const { access_token, user_id, role } = response.data;\n      \n      // Save token and user data\n      localStorage.setItem('token', access_token);\n      const userData = { id: user_id, email, role };\n      localStorage.setItem('user', JSON.stringify(userData));\n      \n      // Set user in state\n      setUser(userData);\n      setIsAuthenticated(true);\n      \n      // Token is handled by axios interceptors in axiosConfig.js\n      \n      // Fetch complete user profile after successful login\n      try {\n        const profileData = await fetchUserProfile();\n        const updatedUserData = { ...userData, ...profileData };\n        setUser(updatedUserData);\n        localStorage.setItem('user', JSON.stringify(updatedUserData));\n        \n        // If user is a seller, create seller profile if it doesn't exist\n        if (role === 'seller' && !profileData.seller) {\n          console.log('Creating seller profile for user:', user_id);\n          try {\n            // Default seller data\n            const defaultSellerData = {\n              shop_name: profileData.name + \"'s Shop\",\n              address: \"\",\n              contact: \"\"\n            };\n            \n            // Register seller profile\n            await registerSeller(defaultSellerData);\n            \n            // Fetch updated profile after seller registration\n            const updatedProfileData = await fetchUserProfile();\n            const finalUserData = { ...updatedUserData, ...updatedProfileData };\n            setUser(finalUserData);\n            localStorage.setItem('user', JSON.stringify(finalUserData));\n          } catch (sellerError) {\n            console.error('Failed to create seller profile:', sellerError);\n          }\n        }\n      } catch (profileError) {\n        console.error('Failed to fetch user profile:', profileError);\n      }\n      \n      return response.data;\n    } catch (error) {\n      throw error.response?.data || { detail: 'An error occurred during OTP verification' };\n    }\n  };\n  \n  const logout = () => {\n    // Remove token and user data\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    \n    // Reset state\n    setUser(null);\n    setIsAuthenticated(false);\n    \n    // Token removal is handled by axios interceptors in axiosConfig.js\n  };\n  \n  const registerSeller = async (sellerData) => {\n    try {\n      console.log('Registering seller with data:', sellerData);\n      console.log('User ID:', user.id);\n      const response = await axios.post(`/api/auth/register-seller?user_id=${user.id}`, sellerData);\n      console.log('Seller registration response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Seller registration error:', error);\n      throw error.response?.data || { detail: 'An error occurred during seller registration' };\n    }\n  };\n  \n  const updateSellerAddress = async (address) => {\n    try {\n      console.log('Updating seller address for user ID:', user.id);\n      const response = await axios.put('/api/auth/update-seller-profile', { address });\n      \n      console.log('Address update successful, updating user data...');\n      console.log('Update response:', response.data);\n      \n      // Fetch the complete profile after update to ensure we have the latest data\n      try {\n        const profileData = await fetchUserProfile();\n        console.log('Fetched profile data after address update:', profileData);\n        \n        // Create updated user with new address\n        const updatedUserData = { \n          ...user, \n          ...profileData\n        };\n        \n        console.log('Updated user data:', updatedUserData);\n        \n        // Update state and localStorage\n        setUser(updatedUserData);\n        localStorage.setItem('user', JSON.stringify(updatedUserData));\n        \n        return response.data;\n      } catch (profileError) {\n        console.error('Failed to fetch updated user profile:', profileError);\n        return response.data;\n      }\n    } catch (error) {\n      console.error('Address update error:', error);\n      throw error.response?.data || { detail: 'An error occurred while updating seller address' };\n    }\n  };\n\n  const paySellerFee = async () => {\n    try {\n      console.log('Processing payment for user ID:', user.id);\n      const response = await axios.post(`/api/auth/pay-seller-fee/${user.id}`);\n      \n      console.log('Payment successful, updating user data...');\n      console.log('Payment response:', response.data);\n      console.log('Current user state:', user);\n      \n      // Use the seller data from the response if available\n      const sellerFromResponse = response.data.seller;\n      \n      // Always fetch the complete profile after payment to ensure we have the latest data\n      try {\n        const profileData = await fetchUserProfile();\n        console.log('Fetched profile data:', profileData);\n        \n        // Create updated user with paid_99 set to true\n        const updatedUserData = { \n          ...user, \n          ...profileData,\n          seller: {\n            ...(profileData.seller || {}),\n            paid_99: true\n          }\n        };\n        \n        console.log('Updated user data:', updatedUserData);\n        \n        // Update state and localStorage\n        setUser(updatedUserData);\n        localStorage.setItem('user', JSON.stringify(updatedUserData));\n      } catch (profileError) {\n        console.error('Failed to fetch updated user profile:', profileError);\n        \n        // Fallback: Use seller data from response if available\n        if (sellerFromResponse && sellerFromResponse.paid_99) {\n          console.log('Using seller data from response as fallback');\n          const updatedSeller = { ...user.seller, paid_99: sellerFromResponse.paid_99 };\n          const updatedUser = { ...user, seller: updatedSeller };\n          setUser(updatedUser);\n          localStorage.setItem('user', JSON.stringify(updatedUser));\n        } else {\n          // Last resort fallback\n          console.log('Using hardcoded fallback for seller data');\n          const updatedSeller = { ...user.seller, paid_99: true };\n          const updatedUser = { ...user, seller: updatedSeller };\n          setUser(updatedUser);\n          localStorage.setItem('user', JSON.stringify(updatedUser));\n        }\n      }\n      \n      return response.data;\n    } catch (error) {\n      console.error('Payment error:', error);\n      throw error.response?.data || { detail: 'An error occurred during payment. Please try again.' };\n    }\n  };\n  \n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        isAuthenticated,\n        loading,\n        tempEmail,\n        login,\n        register,\n        verifyOTP,\n        resendOTP,\n        logout,\n        registerSeller,\n        paySellerFee,\n        fetchUserProfile,\n        updateSellerAddress\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}