{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{toast}from'react-toastify';import{recommendationsAPI}from'../services/api';import LoadingSpinner from'./LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RecommendedProducts=()=>{const[products,setProducts]=useState([]);const[isLoading,setIsLoading]=useState(true);useEffect(()=>{const fetchRecommendedProducts=async()=>{setIsLoading(true);try{const data=await recommendationsAPI.getRecommendedProducts(4);setProducts(data);}catch(error){console.error('Error fetching recommended products:',error);// Don't show toast for recommendations as it's not critical\n}finally{setIsLoading(false);}};fetchRecommendedProducts();},[]);if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center py-10\",children:/*#__PURE__*/_jsx(LoadingSpinner,{})});}if(products.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-10\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No recommendations available yet. Start rating products to get personalized recommendations!\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\",children:products.map(product=>/*#__PURE__*/_jsxs(Link,{to:\"/product/\".concat(product.id),className:\"bg-white rounded-lg shadow-md overflow-hidden transition-all hover:shadow-lg hover:scale-105\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-48 overflow-hidden\",children:/*#__PURE__*/_jsx(\"img\",{src:product.image_url||'/placeholder-product.jpg',alt:product.name,className:\"w-full h-full object-cover\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-lg mb-2 truncate\",children:product.name}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-primary-600 font-bold\",children:[\"\\u20B9\",product.price,\"/\",product.unit]})})]})]},product.id))});};export default RecommendedProducts;","map":{"version":3,"names":["React","useEffect","useState","Link","toast","recommendationsAPI","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","RecommendedProducts","products","setProducts","isLoading","setIsLoading","fetchRecommendedProducts","data","getRecommendedProducts","error","console","className","children","length","map","product","to","concat","id","src","image_url","alt","name","price","unit"],"sources":["E:/lockdeal/frontend/src/components/RecommendedProducts.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { recommendationsAPI } from '../services/api';\nimport LoadingSpinner from './LoadingSpinner';\n\nconst RecommendedProducts = () => {\n  const [products, setProducts] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchRecommendedProducts = async () => {\n      setIsLoading(true);\n      try {\n        const data = await recommendationsAPI.getRecommendedProducts(4);\n        setProducts(data);\n      } catch (error) {\n        console.error('Error fetching recommended products:', error);\n        // Don't show toast for recommendations as it's not critical\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchRecommendedProducts();\n  }, []);\n\n  if (isLoading) {\n    return (\n      <div className=\"flex justify-center py-10\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n\n  if (products.length === 0) {\n    return (\n      <div className=\"text-center py-10\">\n        <p className=\"text-gray-500\">No recommendations available yet. Start rating products to get personalized recommendations!</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n      {products.map((product) => (\n        <Link \n          to={`/product/${product.id}`} \n          key={product.id}\n          className=\"bg-white rounded-lg shadow-md overflow-hidden transition-all hover:shadow-lg hover:scale-105\"\n        >\n          <div className=\"h-48 overflow-hidden\">\n            <img \n              src={product.image_url || '/placeholder-product.jpg'} \n              alt={product.name}\n              className=\"w-full h-full object-cover\"\n            />\n          </div>\n          <div className=\"p-4\">\n            <h3 className=\"font-medium text-lg mb-2 truncate\">{product.name}</h3>\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-primary-600 font-bold\">â‚¹{product.price}/{product.unit}</span>\n            </div>\n          </div>\n        </Link>\n      ))}\n    </div>\n  );\n};\n\nexport default RecommendedProducts;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,KAAK,KAAQ,gBAAgB,CACtC,OAASC,kBAAkB,KAAQ,iBAAiB,CACpD,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9C,KAAM,CAAAC,mBAAmB,CAAGA,CAAA,GAAM,CAChC,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACY,SAAS,CAAEC,YAAY,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAEhDD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,wBAAwB,CAAG,KAAAA,CAAA,GAAY,CAC3CD,YAAY,CAAC,IAAI,CAAC,CAClB,GAAI,CACF,KAAM,CAAAE,IAAI,CAAG,KAAM,CAAAZ,kBAAkB,CAACa,sBAAsB,CAAC,CAAC,CAAC,CAC/DL,WAAW,CAACI,IAAI,CAAC,CACnB,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sCAAsC,CAAEA,KAAK,CAAC,CAC5D;AACF,CAAC,OAAS,CACRJ,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAEDC,wBAAwB,CAAC,CAAC,CAC5B,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIF,SAAS,CAAE,CACb,mBACEN,IAAA,QAAKa,SAAS,CAAC,2BAA2B,CAAAC,QAAA,cACxCd,IAAA,CAACF,cAAc,GAAE,CAAC,CACf,CAAC,CAEV,CAEA,GAAIM,QAAQ,CAACW,MAAM,GAAK,CAAC,CAAE,CACzB,mBACEf,IAAA,QAAKa,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChCd,IAAA,MAAGa,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,8FAA4F,CAAG,CAAC,CAC1H,CAAC,CAEV,CAEA,mBACEd,IAAA,QAAKa,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAClEV,QAAQ,CAACY,GAAG,CAAEC,OAAO,eACpBf,KAAA,CAACP,IAAI,EACHuB,EAAE,aAAAC,MAAA,CAAcF,OAAO,CAACG,EAAE,CAAG,CAE7BP,SAAS,CAAC,8FAA8F,CAAAC,QAAA,eAExGd,IAAA,QAAKa,SAAS,CAAC,sBAAsB,CAAAC,QAAA,cACnCd,IAAA,QACEqB,GAAG,CAAEJ,OAAO,CAACK,SAAS,EAAI,0BAA2B,CACrDC,GAAG,CAAEN,OAAO,CAACO,IAAK,CAClBX,SAAS,CAAC,4BAA4B,CACvC,CAAC,CACC,CAAC,cACNX,KAAA,QAAKW,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBd,IAAA,OAAIa,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAEG,OAAO,CAACO,IAAI,CAAK,CAAC,cACrExB,IAAA,QAAKa,SAAS,CAAC,mCAAmC,CAAAC,QAAA,cAChDZ,KAAA,SAAMW,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EAAC,QAAC,CAACG,OAAO,CAACQ,KAAK,CAAC,GAAC,CAACR,OAAO,CAACS,IAAI,EAAO,CAAC,CAChF,CAAC,EACH,CAAC,GAfDT,OAAO,CAACG,EAgBT,CACP,CAAC,CACC,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjB,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}