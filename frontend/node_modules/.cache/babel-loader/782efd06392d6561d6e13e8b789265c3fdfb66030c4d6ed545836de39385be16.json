{"ast":null,"code":"import React,{useState,useEffect}from'react';import{toast}from'react-toastify';import PageHeader from'../../components/PageHeader';import{ratingAPI}from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Reviews=()=>{const[reviews,setReviews]=useState([]);const[isLoading,setIsLoading]=useState(true);useEffect(()=>{const fetchReviews=async()=>{setIsLoading(true);try{// Assuming there's an API endpoint to get user's reviews\nconst data=await ratingAPI.getMyRatings();setReviews(data||[]);}catch(error){console.error('Failed to fetch reviews:',error);toast.error('Failed to load your reviews');setReviews([]);}finally{setIsLoading(false);}};fetchReviews();},[]);// Function to format date\nconst formatDate=dateString=>{if(!dateString)return'N/A';const date=new Date(dateString);return date.toLocaleDateString('en-IN',{year:'numeric',month:'short',day:'numeric'});};// Function to render star rating\nconst renderStars=rating=>{const stars=[];for(let i=1;i<=5;i++){stars.push(/*#__PURE__*/_jsx(\"svg\",{className:`h-5 w-5 ${i<=rating?'text-yellow-400':'text-gray-300'}`,fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\"})},i));}return/*#__PURE__*/_jsx(\"div\",{className:\"flex\",children:stars});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8 animate-fade-in\",children:[/*#__PURE__*/_jsx(PageHeader,{title:\"My Reviews\",subtitle:\"View and manage your product and seller reviews\",showBackButton:true,backButtonPath:\"/customer/dashboard\",className:\"p-8 bg-gradient-to-r from-customer-600 to-customer-500 text-white rounded-xl shadow-lg mb-8\"}),isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-customer-600\"})}):reviews.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-8 text-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-16 w-16 text-gray-400 mx-auto mb-4\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-medium text-gray-700 mb-2\",children:\"No Reviews Yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-6\",children:\"You haven't submitted any reviews for products or sellers yet.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href='/customer/products',className:\"btn-primary py-3 px-6 rounded-lg transition-all hover:shadow-lg\",children:\"Browse Products\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:reviews.map(review=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-lg overflow-hidden transform transition-all hover:scale-105 duration-300\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800\",children:review.product_name||'Product'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:review.seller_name||'Seller'})]}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-customer-100 text-customer-800 text-xs font-medium px-2.5 py-0.5 rounded-full\",children:formatDate(review.created_at)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:renderStars(review.rating)}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 mb-4\",children:review.feedback||'No feedback provided'}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center pt-4 border-t border-gray-100\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"text-customer-600 hover:text-customer-800 text-sm font-medium flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-4 w-4 mr-1\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\"})}),\"Edit\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"text-red-600 hover:text-red-800 text-sm font-medium flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-4 w-4 mr-1\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"})}),\"Delete\"]})]})]})},review.id))})]});};export default Reviews;","map":{"version":3,"names":["React","useState","useEffect","toast","PageHeader","ratingAPI","jsx","_jsx","jsxs","_jsxs","Reviews","reviews","setReviews","isLoading","setIsLoading","fetchReviews","data","getMyRatings","error","console","formatDate","dateString","date","Date","toLocaleDateString","year","month","day","renderStars","rating","stars","i","push","className","fill","viewBox","children","d","title","subtitle","showBackButton","backButtonPath","length","stroke","strokeLinecap","strokeLinejoin","strokeWidth","onClick","window","location","href","map","review","product_name","seller_name","created_at","feedback","id"],"sources":["E:/market_sell/frontend/src/pages/customer/Reviews.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport PageHeader from '../../components/PageHeader';\nimport { ratingAPI } from '../../services/api';\n\nconst Reviews = () => {\n  const [reviews, setReviews] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchReviews = async () => {\n      setIsLoading(true);\n      try {\n        // Assuming there's an API endpoint to get user's reviews\n        const data = await ratingAPI.getMyRatings();\n        setReviews(data || []);\n      } catch (error) {\n        console.error('Failed to fetch reviews:', error);\n        toast.error('Failed to load your reviews');\n        setReviews([]);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchReviews();\n  }, []);\n\n  // Function to format date\n  const formatDate = (dateString) => {\n    if (!dateString) return 'N/A';\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-IN', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n    });\n  };\n\n  // Function to render star rating\n  const renderStars = (rating) => {\n    const stars = [];\n    for (let i = 1; i <= 5; i++) {\n      stars.push(\n        <svg\n          key={i}\n          className={`h-5 w-5 ${i <= rating ? 'text-yellow-400' : 'text-gray-300'}`}\n          fill=\"currentColor\"\n          viewBox=\"0 0 20 20\"\n        >\n          <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\" />\n        </svg>\n      );\n    }\n    return <div className=\"flex\">{stars}</div>;\n  };\n\n  return (\n    <div className=\"container mx-auto px-4 py-8 animate-fade-in\">\n      <PageHeader\n        title=\"My Reviews\"\n        subtitle=\"View and manage your product and seller reviews\"\n        showBackButton={true}\n        backButtonPath=\"/customer/dashboard\"\n        className=\"p-8 bg-gradient-to-r from-customer-600 to-customer-500 text-white rounded-xl shadow-lg mb-8\"\n      />\n\n      {isLoading ? (\n        <div className=\"flex justify-center items-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-customer-600\"></div>\n        </div>\n      ) : reviews.length === 0 ? (\n        <div className=\"bg-white rounded-xl shadow-lg p-8 text-center\">\n          <svg className=\"h-16 w-16 text-gray-400 mx-auto mb-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <h3 className=\"text-xl font-medium text-gray-700 mb-2\">No Reviews Yet</h3>\n          <p className=\"text-gray-500 mb-6\">You haven't submitted any reviews for products or sellers yet.</p>\n          <button \n            onClick={() => window.location.href = '/customer/products'}\n            className=\"btn-primary py-3 px-6 rounded-lg transition-all hover:shadow-lg\"\n          >\n            Browse Products\n          </button>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          {reviews.map((review) => (\n            <div key={review.id} className=\"bg-white rounded-xl shadow-lg overflow-hidden transform transition-all hover:scale-105 duration-300\">\n              <div className=\"p-6\">\n                <div className=\"flex justify-between items-start mb-4\">\n                  <div>\n                    <h3 className=\"text-lg font-semibold text-gray-800\">{review.product_name || 'Product'}</h3>\n                    <p className=\"text-sm text-gray-500\">{review.seller_name || 'Seller'}</p>\n                  </div>\n                  <span className=\"bg-customer-100 text-customer-800 text-xs font-medium px-2.5 py-0.5 rounded-full\">\n                    {formatDate(review.created_at)}\n                  </span>\n                </div>\n                \n                <div className=\"mb-3\">\n                  {renderStars(review.rating)}\n                </div>\n                \n                <p className=\"text-gray-700 mb-4\">{review.feedback || 'No feedback provided'}</p>\n                \n                <div className=\"flex justify-between items-center pt-4 border-t border-gray-100\">\n                  <button className=\"text-customer-600 hover:text-customer-800 text-sm font-medium flex items-center\">\n                    <svg className=\"h-4 w-4 mr-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\n                    </svg>\n                    Edit\n                  </button>\n                  <button className=\"text-red-600 hover:text-red-800 text-sm font-medium flex items-center\">\n                    <svg className=\"h-4 w-4 mr-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                    </svg>\n                    Delete\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Reviews;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,KAAK,KAAQ,gBAAgB,CACtC,MAAO,CAAAC,UAAU,KAAM,6BAA6B,CACpD,OAASC,SAAS,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACY,SAAS,CAAEC,YAAY,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAEhDC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/BD,YAAY,CAAC,IAAI,CAAC,CAClB,GAAI,CACF;AACA,KAAM,CAAAE,IAAI,CAAG,KAAM,CAAAX,SAAS,CAACY,YAAY,CAAC,CAAC,CAC3CL,UAAU,CAACI,IAAI,EAAI,EAAE,CAAC,CACxB,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChDf,KAAK,CAACe,KAAK,CAAC,6BAA6B,CAAC,CAC1CN,UAAU,CAAC,EAAE,CAAC,CAChB,CAAC,OAAS,CACRE,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAEDC,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAK,UAAU,CAAIC,UAAU,EAAK,CACjC,GAAI,CAACA,UAAU,CAAE,MAAO,KAAK,CAC7B,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAACF,UAAU,CAAC,CACjC,MAAO,CAAAC,IAAI,CAACE,kBAAkB,CAAC,OAAO,CAAE,CACtCC,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,OAAO,CACdC,GAAG,CAAE,SACP,CAAC,CAAC,CACJ,CAAC,CAED;AACA,KAAM,CAAAC,WAAW,CAAIC,MAAM,EAAK,CAC9B,KAAM,CAAAC,KAAK,CAAG,EAAE,CAChB,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,EAAI,CAAC,CAAEA,CAAC,EAAE,CAAE,CAC3BD,KAAK,CAACE,IAAI,cACRzB,IAAA,QAEE0B,SAAS,CAAE,WAAWF,CAAC,EAAIF,MAAM,CAAG,iBAAiB,CAAG,eAAe,EAAG,CAC1EK,IAAI,CAAC,cAAc,CACnBC,OAAO,CAAC,WAAW,CAAAC,QAAA,cAEnB7B,IAAA,SAAM8B,CAAC,CAAC,0VAA0V,CAAE,CAAC,EALhWN,CAMF,CACP,CAAC,CACH,CACA,mBAAOxB,IAAA,QAAK0B,SAAS,CAAC,MAAM,CAAAG,QAAA,CAAEN,KAAK,CAAM,CAAC,CAC5C,CAAC,CAED,mBACErB,KAAA,QAAKwB,SAAS,CAAC,6CAA6C,CAAAG,QAAA,eAC1D7B,IAAA,CAACH,UAAU,EACTkC,KAAK,CAAC,YAAY,CAClBC,QAAQ,CAAC,iDAAiD,CAC1DC,cAAc,CAAE,IAAK,CACrBC,cAAc,CAAC,qBAAqB,CACpCR,SAAS,CAAC,6FAA6F,CACxG,CAAC,CAEDpB,SAAS,cACRN,IAAA,QAAK0B,SAAS,CAAC,uCAAuC,CAAAG,QAAA,cACpD7B,IAAA,QAAK0B,SAAS,CAAC,+EAA+E,CAAM,CAAC,CAClG,CAAC,CACJtB,OAAO,CAAC+B,MAAM,GAAK,CAAC,cACtBjC,KAAA,QAAKwB,SAAS,CAAC,+CAA+C,CAAAG,QAAA,eAC5D7B,IAAA,QAAK0B,SAAS,CAAC,sCAAsC,CAACC,IAAI,CAAC,MAAM,CAACC,OAAO,CAAC,WAAW,CAACQ,MAAM,CAAC,cAAc,CAAAP,QAAA,cACzG7B,IAAA,SAAMqC,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAC,GAAG,CAACT,CAAC,CAAC,oFAAoF,CAAE,CAAC,CACzJ,CAAC,cACN9B,IAAA,OAAI0B,SAAS,CAAC,wCAAwC,CAAAG,QAAA,CAAC,gBAAc,CAAI,CAAC,cAC1E7B,IAAA,MAAG0B,SAAS,CAAC,oBAAoB,CAAAG,QAAA,CAAC,gEAA8D,CAAG,CAAC,cACpG7B,IAAA,WACEwC,OAAO,CAAEA,CAAA,GAAMC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,oBAAqB,CAC3DjB,SAAS,CAAC,iEAAiE,CAAAG,QAAA,CAC5E,iBAED,CAAQ,CAAC,EACN,CAAC,cAEN7B,IAAA,QAAK0B,SAAS,CAAC,uCAAuC,CAAAG,QAAA,CACnDzB,OAAO,CAACwC,GAAG,CAAEC,MAAM,eAClB7C,IAAA,QAAqB0B,SAAS,CAAC,qGAAqG,CAAAG,QAAA,cAClI3B,KAAA,QAAKwB,SAAS,CAAC,KAAK,CAAAG,QAAA,eAClB3B,KAAA,QAAKwB,SAAS,CAAC,uCAAuC,CAAAG,QAAA,eACpD3B,KAAA,QAAA2B,QAAA,eACE7B,IAAA,OAAI0B,SAAS,CAAC,qCAAqC,CAAAG,QAAA,CAAEgB,MAAM,CAACC,YAAY,EAAI,SAAS,CAAK,CAAC,cAC3F9C,IAAA,MAAG0B,SAAS,CAAC,uBAAuB,CAAAG,QAAA,CAAEgB,MAAM,CAACE,WAAW,EAAI,QAAQ,CAAI,CAAC,EACtE,CAAC,cACN/C,IAAA,SAAM0B,SAAS,CAAC,kFAAkF,CAAAG,QAAA,CAC/FhB,UAAU,CAACgC,MAAM,CAACG,UAAU,CAAC,CAC1B,CAAC,EACJ,CAAC,cAENhD,IAAA,QAAK0B,SAAS,CAAC,MAAM,CAAAG,QAAA,CAClBR,WAAW,CAACwB,MAAM,CAACvB,MAAM,CAAC,CACxB,CAAC,cAENtB,IAAA,MAAG0B,SAAS,CAAC,oBAAoB,CAAAG,QAAA,CAAEgB,MAAM,CAACI,QAAQ,EAAI,sBAAsB,CAAI,CAAC,cAEjF/C,KAAA,QAAKwB,SAAS,CAAC,iEAAiE,CAAAG,QAAA,eAC9E3B,KAAA,WAAQwB,SAAS,CAAC,iFAAiF,CAAAG,QAAA,eACjG7B,IAAA,QAAK0B,SAAS,CAAC,cAAc,CAACC,IAAI,CAAC,MAAM,CAACC,OAAO,CAAC,WAAW,CAACQ,MAAM,CAAC,cAAc,CAAAP,QAAA,cACjF7B,IAAA,SAAMqC,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAC,GAAG,CAACT,CAAC,CAAC,kGAAkG,CAAE,CAAC,CACvK,CAAC,OAER,EAAQ,CAAC,cACT5B,KAAA,WAAQwB,SAAS,CAAC,uEAAuE,CAAAG,QAAA,eACvF7B,IAAA,QAAK0B,SAAS,CAAC,cAAc,CAACC,IAAI,CAAC,MAAM,CAACC,OAAO,CAAC,WAAW,CAACQ,MAAM,CAAC,cAAc,CAAAP,QAAA,cACjF7B,IAAA,SAAMqC,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAC,GAAG,CAACT,CAAC,CAAC,8HAA8H,CAAE,CAAC,CACnM,CAAC,SAER,EAAQ,CAAC,EACN,CAAC,EACH,CAAC,EAhCEe,MAAM,CAACK,EAiCZ,CACN,CAAC,CACC,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAA/C,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}